<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">

<body>

<div metal:fill-slot="main">
  <link rel="Stylesheet" type="text/css" href="doxygen.css" />
<!-- Generated by Doxygen 1.5.9 -->
<h1>renderTarget.h</h1><a href="renderTarget_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- Mode: C++; tab-width: 2; -*-</span>
<a name="l00002"></a>00002 <span class="comment">// vi: set ts=2:</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef BALL_VIEW_RENDERING_RENDERTARGET_H</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define BALL_VIEW_RENDERING_RENDERTARGET_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="COMMON_2global_8h.html">BALL/COMMON/global.h</a>&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;<a class="code" href="exception_8h.html">BALL/COMMON/exception.h</a>&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;boost/smart_ptr.hpp&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;boost/shared_array.hpp&gt;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;<a class="code" href="pixelFormat_8h.html">BALL/VIEW/RENDERING/pixelFormat.h</a>&gt;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">namespace </span>BALL
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020   <span class="keyword">namespace </span>VIEW
<a name="l00021"></a>00021   {
<a name="l00022"></a>00022 
<a name="l00024"></a><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html">00024</a>     <span class="keyword">struct </span><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html">Resolution</a>
<a name="l00025"></a>00025     {
<a name="l00026"></a><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#af231b0bab7ee988fdb70dc5788c16128">00026</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#af231b0bab7ee988fdb70dc5788c16128">width</a>;
<a name="l00027"></a><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a991d76e82c121f905216878295815134">00027</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a991d76e82c121f905216878295815134">height</a>;
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a091c891abdcbaf8bdba44321be245831">00029</a>       <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a091c891abdcbaf8bdba44321be245831">Resolution</a>() : <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#af231b0bab7ee988fdb70dc5788c16128">width</a>(0), <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a991d76e82c121f905216878295815134">height</a>(0) { }
<a name="l00030"></a>00030         
<a name="l00031"></a><a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a70e55569678d315cd0ae4e477776151a">00031</a>       <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a70e55569678d315cd0ae4e477776151a">Resolution</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#af231b0bab7ee988fdb70dc5788c16128">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structBALL_1_1VIEW_1_1Resolution.html#a991d76e82c121f905216878295815134">height</a>) : width(width),height(height) { }
<a name="l00032"></a>00032     };
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 
<a name="l00038"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">00038</a>     <span class="keyword">class </span><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a>
<a name="l00039"></a>00039     {
<a name="l00040"></a>00040     <span class="keyword">public</span>:
<a name="l00041"></a>00041 
<a name="l00043"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">00043</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">FrameBufferFormat</a>() : 
<a name="l00044"></a>00044         <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>(0), <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>(0), <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>(0), <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>(<a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a>::RGB_32)
<a name="l00045"></a>00045       { }
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ac87c15df8eb96add387ffd55f5b6996a">00047</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">FrameBufferFormat</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>,
<a name="l00048"></a>00048                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>, <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>)
<a name="l00049"></a>00049         : width(width), height(height), 
<a name="l00050"></a>00050           <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>(width * pixelFormat.computeByteSize()), 
<a name="l00051"></a>00051           pixelFormat(pixelFormat)
<a name="l00052"></a>00052       {
<a name="l00053"></a>00053         assert(<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a> &gt;= width * pixelFormat.<a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html#aeb89507125247d7ee2214b84aac86a45">computeByteSize</a>());
<a name="l00054"></a>00054       }
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aef97de30ebc6b323d15f4b713d55707f">00056</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">FrameBufferFormat</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>,
<a name="l00057"></a>00057                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>, <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a> )
<a name="l00058"></a>00058         : width(width), height(height), pitch(pitch), pixelFormat(pixelFormat)
<a name="l00059"></a>00059       {
<a name="l00060"></a>00060         assert(pitch &gt;= width * pixelFormat.<a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html#aeb89507125247d7ee2214b84aac86a45">computeByteSize</a>());
<a name="l00061"></a>00061       }
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a310dd9fcd98b0d8df0b628f66d23a059">00063</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">FrameBufferFormat</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;format)
<a name="l00064"></a>00064         : <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>(format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>), <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>(format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>), 
<a name="l00065"></a>00065           <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>(format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>), <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>(format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>)
<a name="l00066"></a>00066       {
<a name="l00067"></a>00067       }
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ac3df4c2df29841a4aab5b550fbb51e2e">00069</a>       <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ac3df4c2df29841a4aab5b550fbb51e2e">operator=</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;format)
<a name="l00070"></a>00070       {
<a name="l00071"></a>00071         <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a> = format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>;
<a name="l00072"></a>00072         <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a> = format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>;
<a name="l00073"></a>00073         <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a> = format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>;
<a name="l00074"></a>00074         <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a> = format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>;
<a name="l00075"></a>00075         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00076"></a>00076       }
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a389e875922592f126f681421a63bc447">00078</a>       <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a389e875922592f126f681421a63bc447">operator==</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a>&amp; format)<span class="keyword"> const</span>
<a name="l00079"></a>00079 <span class="keyword">      </span>{
<a name="l00080"></a>00080         <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>==format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a> &amp;&amp; <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>==format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a> &amp;&amp;
<a name="l00081"></a>00081              <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>==format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a> &amp;&amp; <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>==format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>;
<a name="l00082"></a>00082       }
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a379f556c233e0647202dc0ef531aa06b">00084</a>       <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a379f556c233e0647202dc0ef531aa06b">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a>&amp; format)<span class="keyword"> const</span>
<a name="l00085"></a>00085 <span class="keyword">      </span>{
<a name="l00086"></a>00086         <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>!=format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a> || <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>!=format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a> ||
<a name="l00087"></a>00087              <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>!=format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a> || <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>!=format.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>;
<a name="l00088"></a>00088       }
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a52b4c5e4e3fa230f0c097c72f3d5bc7b">00090</a>       <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a52b4c5e4e3fa230f0c097c72f3d5bc7b">isValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a> &gt; 0 &amp;&amp; <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a> &gt; 0 &amp;&amp; <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a> &gt; 0; }
<a name="l00091"></a>00091 
<a name="l00095"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ad1f5aff726dcf9b94a7cfdc6e56616f1">00095</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ad1f5aff726dcf9b94a7cfdc6e56616f1">getWidth</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>; }
<a name="l00096"></a>00096 
<a name="l00100"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a61dd2eecd2e4ec86fe0a70b322ed4f33">00100</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a61dd2eecd2e4ec86fe0a70b322ed4f33">setWidth</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>) { this-&gt;width = width; }
<a name="l00101"></a>00101 
<a name="l00103"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a1b0c1bc3e84be969055d46dbbab16832">00103</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a1b0c1bc3e84be969055d46dbbab16832">getHeight</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>; }
<a name="l00104"></a>00104 
<a name="l00106"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a5bcbcf29eafb2e1887dfa34fb3c9a1ae">00106</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a5bcbcf29eafb2e1887dfa34fb3c9a1ae">setHeight</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>) { this-&gt;height = height; }
<a name="l00107"></a>00107 
<a name="l00109"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a37da7cb6c1fa5451fde70b34de873a8a">00109</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a37da7cb6c1fa5451fde70b34de873a8a">getPitch</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>; }
<a name="l00110"></a>00110 
<a name="l00112"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a82d43a9f40f95beee5a37686f257f040">00112</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a82d43a9f40f95beee5a37686f257f040">setPitch</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>) { this-&gt;pitch = pitch; }
<a name="l00113"></a>00113 
<a name="l00115"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a0fb101cc52d98d48e5d07e16addfa036">00115</a>       <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a0fb101cc52d98d48e5d07e16addfa036">getPixelFormat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>; }
<a name="l00116"></a>00116         
<a name="l00118"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aee9e78ca83a264b80c5fb03843d45701">00118</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aee9e78ca83a264b80c5fb03843d45701">setPixelFormat</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>)
<a name="l00119"></a>00119       { this-&gt;pixelFormat = pixelFormat; }
<a name="l00120"></a>00120 
<a name="l00124"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4c3baaabd6984698d2494961b9da6a1a">00124</a>       <span class="keywordtype">size_t</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4c3baaabd6984698d2494961b9da6a1a">computeSize</a>()<span class="keyword"> const</span>
<a name="l00125"></a>00125 <span class="keyword">      </span>{
<a name="l00126"></a>00126         <span class="comment">// pitch is in bytes</span>
<a name="l00127"></a>00127         <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a52b4c5e4e3fa230f0c097c72f3d5bc7b">isValid</a>() ? (<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a37da7cb6c1fa5451fde70b34de873a8a">getPitch</a>() * <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a1b0c1bc3e84be969055d46dbbab16832">getHeight</a>()) : 0;
<a name="l00128"></a>00128       }
<a name="l00129"></a>00129 
<a name="l00131"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a04737cfe05c2a78fa2eb915b9b936670">00131</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a04737cfe05c2a78fa2eb915b9b936670">resize</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newWidth, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newHeight)
<a name="l00132"></a>00132       {
<a name="l00133"></a>00133         this-&gt;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a> = newWidth;
<a name="l00134"></a>00134         this-&gt;<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a> = newHeight;
<a name="l00135"></a>00135       }
<a name="l00136"></a>00136 
<a name="l00140"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaf3429a1f89f47019ff2a03e3476018b">00140</a>       <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaf3429a1f89f47019ff2a03e3476018b">resized</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newWidth, 
<a name="l00141"></a>00141                       <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newHeight)<span class="keyword"> const</span>
<a name="l00142"></a>00142 <span class="keyword">      </span>{
<a name="l00143"></a>00143         <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aafe9f24480ccdfb40e35468a67f7f100">FrameBufferFormat</a>(newWidth, newHeight, <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>, <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>);
<a name="l00144"></a>00144       }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <span class="keyword">private</span>:
<a name="l00148"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">00148</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#aaacb0524d705e4aee0803b7646e0cc15">width</a>;
<a name="l00149"></a>00149 
<a name="l00151"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">00151</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a905960e0568259fbd1746042ec55368c">height</a>;
<a name="l00152"></a>00152 
<a name="l00159"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">00159</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a4025aa0c64060a508def59866343c3fa">pitch</a>;
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">00161</a>       <a class="code" href="classBALL_1_1VIEW_1_1PixelFormat.html">PixelFormat</a> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a3ed4e49a9950dcdb3b1ceffe0470d8b0">pixelFormat</a>;
<a name="l00162"></a>00162     };
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="namespaceBALL_1_1VIEW.html#a617af4ee974ff76f7492aad70f523f95">00164</a>     <span class="keyword">inline</span> std::ostream &amp;<a class="code" href="namespaceBALL_1_1VIEW.html#a255eb36e097a3188f2c04af0c59615be">operator&lt;&lt;</a>(std::ostream &amp;o, <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;f)
<a name="l00165"></a>00165     {
<a name="l00166"></a>00166       o &lt;&lt; f.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#ad1f5aff726dcf9b94a7cfdc6e56616f1">getWidth</a>() &lt;&lt; <span class="stringliteral">&quot;x&quot;</span> &lt;&lt; f.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a1b0c1bc3e84be969055d46dbbab16832">getHeight</a>() &lt;&lt; <span class="stringliteral">&quot;, pitch &quot;</span> &lt;&lt; f.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a37da7cb6c1fa5451fde70b34de873a8a">getPitch</a>()
<a name="l00167"></a>00167         &lt;&lt; <span class="stringliteral">&quot;, pixel format: &quot;</span> &lt;&lt; f.<a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html#a0fb101cc52d98d48e5d07e16addfa036">getPixelFormat</a>();
<a name="l00168"></a>00168       <span class="keywordflow">return</span> o;
<a name="l00169"></a>00169     }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="namespaceBALL_1_1VIEW.html#a6f41812a20a7b0d51386d84850d5083e">00171</a>     <span class="keyword">typedef</span> std::vector&lt;FrameBufferFormat&gt; <a class="code" href="namespaceBALL_1_1VIEW.html#a6f41812a20a7b0d51386d84850d5083e">BufferFormatList</a>;
<a name="l00172"></a>00172 
<a name="l00173"></a>00173     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html">00175</a>     <span class="keyword">class </span><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html">FrameBuffer</a>
<a name="l00176"></a>00176     {
<a name="l00177"></a>00177     <span class="keyword">public</span>:
<a name="l00178"></a>00178 
<a name="l00182"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a9da2f44ed2cfd89793c5fbc7c64b80c4">00182</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a9da2f44ed2cfd89793c5fbc7c64b80c4">FrameBuffer</a>( <span class="keywordtype">void</span>* <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">data</a>, <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aec931eb979a5a068462685f6499b69ae">format</a> ) :
<a name="l00183"></a>00183         data(data), format(format)
<a name="l00184"></a>00184       {
<a name="l00185"></a>00185       }
<a name="l00186"></a>00186 
<a name="l00190"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a78105a955398985749cda23965600104">00190</a>       <span class="keyword">virtual</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a78105a955398985749cda23965600104">~FrameBuffer</a>() {}
<a name="l00191"></a>00191 
<a name="l00193"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a94ab4097b07f6b4a5f05fc2a6bcc83d2">00193</a>       <span class="keywordtype">void</span> *<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a94ab4097b07f6b4a5f05fc2a6bcc83d2">getData</a>() { <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">data</a>; }
<a name="l00194"></a>00194 
<a name="l00196"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#ab53e75ecb4724fde4397c92f40917ac3">00196</a>       <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#ab53e75ecb4724fde4397c92f40917ac3">getData</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">data</a>; }
<a name="l00197"></a>00197 
<a name="l00199"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a1f4d190ce50123e5a1f8992f6179cad3">00199</a>       <span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a1f4d190ce50123e5a1f8992f6179cad3">getFormat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aec931eb979a5a068462685f6499b69ae">format</a>; }
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <span class="keyword">protected</span>:
<a name="l00202"></a>00202 
<a name="l00204"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a9382fe790d7e9c7228b734aa8017d8e9">00204</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a9382fe790d7e9c7228b734aa8017d8e9">setData</a>(<span class="keywordtype">void</span> *<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">data</a>) { this-&gt;data = data; }
<a name="l00205"></a>00205 
<a name="l00207"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aecb5a5c13c059e882662c6722e47e5a0">00207</a>       <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aecb5a5c13c059e882662c6722e47e5a0">setFormat</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> &amp;<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aec931eb979a5a068462685f6499b69ae">format</a>) { this-&gt;format = format; }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="keyword">private</span>:
<a name="l00214"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">00214</a>       <span class="keywordtype">void</span> *<a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#a6abee6e221062549facfbb79033b9a0e">data</a>;
<a name="l00215"></a>00215 
<a name="l00219"></a><a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aec931eb979a5a068462685f6499b69ae">00219</a>       <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> <a class="code" href="classBALL_1_1VIEW_1_1FrameBuffer.html#aec931eb979a5a068462685f6499b69ae">format</a>;
<a name="l00220"></a>00220     };
<a name="l00221"></a>00221 
<a name="l00222"></a><a class="code" href="namespaceBALL_1_1VIEW.html#a8a6479b2a843b503bd6998138227dcd1">00222</a>     <span class="keyword">typedef</span> boost::shared_ptr&lt;FrameBuffer&gt; <a class="code" href="namespaceBALL_1_1VIEW.html#a8a6479b2a843b503bd6998138227dcd1">FrameBufferPtr</a>;
<a name="l00223"></a>00223     
<a name="l00224"></a>00224     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00225"></a>00225 
<a name="l00226"></a><a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html">00226</a>     <span class="keyword">class </span><a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html">RenderTarget</a>
<a name="l00227"></a>00227     {
<a name="l00228"></a>00228       <span class="keyword">public</span>:
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#af912b2e531ddc90f212b99cdb1ba4d6e">00230</a>       <span class="keyword">virtual</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#af912b2e531ddc90f212b99cdb1ba4d6e">~RenderTarget</a>() { }
<a name="l00231"></a>00231 
<a name="l00240"></a>00240       <span class="keyword">virtual</span> <a class="code" href="namespaceBALL_1_1VIEW.html#a8a6479b2a843b503bd6998138227dcd1">FrameBufferPtr</a> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a85d149b278c9f4b91815064d33f6d5c6">getBuffer</a>() throw(BALL::Exception::NoBufferAvailable) = 0;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242       virtual <a class="code" href="classBALL_1_1VIEW_1_1FrameBufferFormat.html">FrameBufferFormat</a> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a1b5184fd1df7c3057433c1e25b706b12">getFormat</a>() const = 0;
<a name="l00243"></a>00243 
<a name="l00250"></a>00250       virtual <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a3a9357f05dc6e73da157559117b1ba7f">releaseBuffer</a>(<a class="code" href="namespaceBALL_1_1VIEW.html#a8a6479b2a843b503bd6998138227dcd1">FrameBufferPtr</a> buffer) = 0;
<a name="l00251"></a>00251 
<a name="l00254"></a>00254       virtual <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a89a9bb8ee09cf5f763fa1b0c7eec0b8f">init</a>() = 0;
<a name="l00255"></a>00255 
<a name="l00258"></a>00258       virtual <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a173b05d4af683adf76f816361df1b54d">resize</a>(const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height) = 0;
<a name="l00259"></a>00259 
<a name="l00262"></a>00262       virtual <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a123f66ae0d370eb0756954b0a720dddc">refresh</a>() = 0;
<a name="l00263"></a>00263 
<a name="l00264"></a>00264       <span class="comment">/* Prepare the window for rendering, e.g., make it current if necessary.</span>
<a name="l00265"></a>00265 <span class="comment">       */</span>
<a name="l00266"></a>00266       virtual <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1VIEW_1_1RenderTarget.html#a1b308def5c8a655e5700a63082d9fe86">prepareRendering</a>() = 0;
<a name="l00267"></a>00267     };
<a name="l00268"></a>00268 
<a name="l00269"></a>00269   } <span class="comment">//namespace VIEW</span>
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 } <span class="comment">// namespace BALL</span>
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 <span class="preprocessor">#endif // BALL_VIEW_RENDERING_RENDERTARGET_H </span>
</pre></div></div>
</div>
</body>
</html>
