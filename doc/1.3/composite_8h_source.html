<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">

<body>

<div metal:fill-slot="main">
  <link rel="Stylesheet" type="text/css" href="doxygen.css" />
<!-- Generated by Doxygen 1.5.9 -->
<h1>composite.h</h1><a href="composite_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- Mode: C++; tab-width: 2; -*-</span>
<a name="l00002"></a>00002 <span class="comment">// vi: set ts=2:</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// $Id: composite.h,v 1.62.14.1 2007/03/25 21:23:37 oliver Exp $</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// Author:</span>
<a name="l00007"></a>00007 <span class="comment">//   Nicolas Boghossian</span>
<a name="l00008"></a>00008 <span class="comment">//   Oliver Kohlbacher</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef BALL_CONCEPT_COMPOSITE_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define BALL_CONCEPT_COMPOSITE_H</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="preprocessor">#ifndef BALL_COMMON_H</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="common_8h.html">BALL/common.h</a>&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#endif</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="preprocessor">#ifndef BALL_CONCEPT_PERSISTENTOBJECT_H</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="persistentObject_8h.html">BALL/CONCEPT/persistentObject.h</a>&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#endif</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef BALL_CONCEPT_COMPARATOR_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="comparator_8h.html">BALL/CONCEPT/comparator.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#ifndef BALL_CONCEPT_BIDIRECTIONALITERATOR_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="bidirectionalIterator_8h.html">BALL/CONCEPT/bidirectionalIterator.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#endif</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef BALL_CONCEPT_OBJECT_H</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="object_8h.html">BALL/CONCEPT/object.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#endif</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="preprocessor">#ifndef BALL_CONCEPT_SELECTABLE_H</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="selectable_8h.html">BALL/CONCEPT/selectable.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#endif</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef BALL_CONCEPT_VISITOR_H</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="visitor_8h.html">BALL/CONCEPT/visitor.h</a>&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#endif</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="preprocessor">#ifndef BALL_CONCEPT_PROCESSOR_H</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="processor_8h.html">BALL/CONCEPT/processor.h</a>&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef BALL_CONCEPT_TIMESTAMP_H</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="timeStamp_8h.html">BALL/CONCEPT/timeStamp.h</a>&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#endif</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="keyword">namespace </span>BALL 
<a name="l00052"></a>00052 {
<a name="l00075"></a><a class="code" href="classBALL_1_1Composite.html">00075</a>   <span class="keyword">class </span><a class="code" href="COMMON_2global_8h.html#afc068a3fa668cb3f5a7f178772cc75bf">BALL_EXPORT</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>
<a name="l00076"></a>00076     : <span class="keyword">public</span> <a class="code" href="classBALL_1_1PersistentObject.html">PersistentObject</a>,
<a name="l00077"></a>00077       <span class="keyword">public</span> <a class="code" href="classBALL_1_1Selectable.html">Selectable</a>
<a name="l00078"></a>00078   {
<a name="l00079"></a>00079     <span class="keyword">public</span>:
<a name="l00080"></a>00080 
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="preprocessor">#ifndef BALL_KERNEL_PREDICATE_TYPE</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="preprocessor">#define BALL_KERNEL_PREDICATE_TYPE</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00092"></a><a class="code" href="classBALL_1_1Composite.html#a2996d1265ce36573b5ed95b0441b9fc4">00092</a>     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1UnaryPredicate.html">UnaryPredicate&lt;Composite&gt;</a> <a class="code" href="classBALL_1_1UnaryPredicate.html">KernelPredicateType</a>;
<a name="l00093"></a>00093 <span class="preprocessor">#endif</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842c">00097</a>     <span class="keyword">enum</span> <a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842c">StampType</a>
<a name="l00098"></a>00098     {
<a name="l00101"></a><a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842ca0385fd7af68965e4c1de3003ca6917a5">00101</a>       MODIFICATION = 1,
<a name="l00104"></a><a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842ca1eb1a77781e2ddeb3f9ebac75a682c57">00104</a>       SELECTION = 2,
<a name="l00107"></a><a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842cad76e7c7185e54b08710e81dba7f13f94">00107</a>       BOTH = 3
<a name="l00108"></a>00108     };
<a name="l00110"></a>00110         
<a name="l00111"></a>00111     <a class="code" href="group__Common.html#ga7531fd77ac8e175306413c4539a10c01">BALL_CREATE_DEEP</a>(<a class="code" href="classBALL_1_1Composite.html">Composite</a>)
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="classBALL_1_1Composite.html#a8ac138f8568c85c28e96adebcafc317d">00113</a>     static <a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;<a class="code" href="classBALL_1_1Composite.html">Composite</a>&gt; DEFAULT_PROCESSOR;
<a name="l00114"></a><a class="code" href="classBALL_1_1Composite.html#a7ec52b69060190ddd439133fbd25c56b">00114</a>     static <a class="code" href="classBALL_1_1UnaryPredicate.html">KernelPredicateType</a> DEFAULT_UNARY_PREDICATE;
<a name="l00115"></a>00115     
<a name="l00119"></a>00119     
<a name="l00123"></a>00123     <a class="code" href="classBALL_1_1Composite.html">Composite</a>()
<a name="l00124"></a>00124       ;
<a name="l00125"></a>00125 
<a name="l00134"></a>00134     <a class="code" href="classBALL_1_1Composite.html">Composite</a>(const <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; composite, <span class="keywordtype">bool</span> deep = true)
<a name="l00135"></a>00135       ;
<a name="l00136"></a>00136 
<a name="l00142"></a>00142     virtual ~<a class="code" href="classBALL_1_1Composite.html">Composite</a>() 
<a name="l00143"></a>00143       ;
<a name="l00144"></a>00144 
<a name="l00156"></a>00156     virtual <span class="keywordtype">void</span> clear()
<a name="l00157"></a>00157       ;
<a name="l00158"></a>00158   
<a name="l00168"></a>00168     virtual <span class="keywordtype">void</span> destroy()
<a name="l00169"></a>00169       ;
<a name="l00170"></a>00170 
<a name="l00183"></a>00183     <span class="keywordtype">void</span> destroy(<span class="keywordtype">bool</span> virtual_destroy)
<a name="l00184"></a>00184       ;
<a name="l00185"></a>00185 
<a name="l00193"></a>00193     <span class="keywordtype">void</span>* clone(Composite&amp; root) const
<a name="l00194"></a>00194       ;
<a name="l00195"></a>00195 
<a name="l00197"></a>00197 
<a name="l00201"></a>00201     
<a name="l00206"></a>00206     virtual <span class="keywordtype">void</span> persistentWrite(<a class="code" href="classBALL_1_1PersistenceManager.html">PersistenceManager</a>&amp; pm,
<a name="l00207"></a>00207         const <span class="keywordtype">char</span>* name = 0) const
<a name="l00208"></a>00208       throw(Exception::GeneralException);
<a name="l00209"></a>00209 
<a name="l00213"></a>00213     virtual <span class="keywordtype">void</span> persistentRead(<a class="code" href="classBALL_1_1PersistenceManager.html">PersistenceManager</a>&amp; pm)
<a name="l00214"></a>00214       throw(Exception::GeneralException);
<a name="l00215"></a>00215 
<a name="l00217"></a>00217 
<a name="l00221"></a>00221 
<a name="l00227"></a>00227     <span class="keywordtype">void</span> set(const Composite&amp; composite, <span class="keywordtype">bool</span> deep = true) ;
<a name="l00228"></a>00228 
<a name="l00233"></a>00233     Composite&amp; operator = (const Composite&amp; composite) ;
<a name="l00234"></a>00234 
<a name="l00241"></a>00241     <span class="keywordtype">void</span> get(Composite&amp; composite, <span class="keywordtype">bool</span> deep = true) const ;
<a name="l00242"></a>00242 
<a name="l00247"></a>00247     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> getDegree() const ;
<a name="l00248"></a>00248 
<a name="l00253"></a>00253     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> count(const <a class="code" href="classBALL_1_1UnaryPredicate.html">KernelPredicateType</a>&amp; predicate) const ;
<a name="l00254"></a>00254 
<a name="l00258"></a>00258     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> countDescendants() const ;
<a name="l00259"></a>00259 
<a name="l00265"></a>00265     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> getPathLength(const Composite&amp; composite) const ;
<a name="l00266"></a>00266 
<a name="l00271"></a>00271     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> getDepth() const ;
<a name="l00272"></a>00272 
<a name="l00277"></a>00277     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> getHeight() const
<a name="l00278"></a>00278       ;
<a name="l00279"></a>00279 
<a name="l00283"></a>00283     Composite&amp; getRoot() ;
<a name="l00284"></a>00284 
<a name="l00288"></a>00288     const Composite&amp; getRoot() const ;
<a name="l00289"></a>00289 
<a name="l00294"></a>00294     Composite* getLowestCommonAncestor(const Composite&amp; composite)
<a name="l00295"></a>00295       ;
<a name="l00296"></a>00296 
<a name="l00301"></a>00301     const Composite* getLowestCommonAncestor(const Composite&amp; composite) const
<a name="l00302"></a>00302       ;
<a name="l00303"></a>00303 
<a name="l00312"></a>00312     template &lt;typename T&gt;
<a name="l00313"></a>00313     T* getAncestor(const T&amp; <span class="comment">/* dummy */</span>)
<a name="l00314"></a>00314       ;
<a name="l00315"></a>00315 
<a name="l00322"></a>00322     template &lt;typename T&gt;
<a name="l00323"></a>00323     const T* getAncestor(const T&amp; <span class="comment">/* dummy */</span>) const ;
<a name="l00324"></a>00324 
<a name="l00332"></a>00332     template &lt;typename T&gt;
<a name="l00333"></a>00333     T* getPrevious(const T&amp; <span class="comment">/* dummy */</span>) ;
<a name="l00334"></a>00334 
<a name="l00342"></a>00342     template &lt;typename T&gt;
<a name="l00343"></a>00343     const T* getPrevious(const T&amp; dummy) const ;
<a name="l00344"></a>00344 
<a name="l00352"></a>00352     template &lt;typename T&gt;
<a name="l00353"></a>00353     T* getNext(const T&amp; <span class="comment">/* dummy */</span>) ;
<a name="l00354"></a>00354 
<a name="l00362"></a>00362     template &lt;typename T&gt;
<a name="l00363"></a>00363     const T* getNext(const T&amp; dummy) const ;
<a name="l00364"></a>00364 
<a name="l00368"></a>00368     Composite* getParent() ;
<a name="l00369"></a>00369 
<a name="l00373"></a>00373     const Composite* getParent() const ;
<a name="l00374"></a>00374 
<a name="l00381"></a>00381     Composite* getChild(<a class="code" href="classBALL__INDEX__TYPE.html">Index</a> index) ;
<a name="l00382"></a>00382   
<a name="l00389"></a>00389     const Composite* getChild(<a class="code" href="classBALL__INDEX__TYPE.html">Index</a> index) const ;
<a name="l00390"></a>00390   
<a name="l00399"></a>00399     Composite* getSibling(<a class="code" href="classBALL__INDEX__TYPE.html">Index</a> index) ;
<a name="l00400"></a>00400 
<a name="l00409"></a>00409     const Composite* getSibling(<a class="code" href="classBALL__INDEX__TYPE.html">Index</a> index) const ;
<a name="l00410"></a>00410 
<a name="l00414"></a>00414     Composite* getFirstChild() ;
<a name="l00415"></a>00415 
<a name="l00419"></a>00419     const Composite* getFirstChild() const ;
<a name="l00420"></a>00420 
<a name="l00424"></a>00424     Composite* getLastChild() ;
<a name="l00425"></a>00425 
<a name="l00429"></a>00429     const Composite* getLastChild() const ;
<a name="l00430"></a>00430       
<a name="l00434"></a>00434     const <a class="code" href="classBALL_1_1PreciseTime.html">PreciseTime</a>&amp; getModificationTime() const ;
<a name="l00435"></a>00435 
<a name="l00439"></a>00439     const <a class="code" href="classBALL_1_1PreciseTime.html">PreciseTime</a>&amp; getSelectionTime() const ;
<a name="l00440"></a>00440 
<a name="l00450"></a>00450     <span class="keywordtype">void</span> stamp(<a class="code" href="classBALL_1_1Composite.html#a884dd4fdf3e4ac49fce6397310d1842c">StampType</a> stamp = BOTH) ;
<a name="l00451"></a>00451       
<a name="l00457"></a>00457     <span class="keywordtype">void</span> prependChild(Composite&amp; composite) ;
<a name="l00458"></a>00458 
<a name="l00466"></a>00466     <span class="keywordtype">void</span> appendChild(Composite&amp; composite) ;
<a name="l00467"></a>00467 
<a name="l00487"></a>00487     static <span class="keywordtype">bool</span> insertParent(Composite&amp; parent, Composite&amp; first,  
<a name="l00488"></a>00488                              Composite&amp; last, <span class="keywordtype">bool</span> destroy_parent = true)
<a name="l00489"></a>00489       ;
<a name="l00490"></a>00490 
<a name="l00500"></a>00500     <span class="keywordtype">void</span> insertBefore(Composite&amp; composite) ;
<a name="l00501"></a>00501 
<a name="l00511"></a>00511     <span class="keywordtype">void</span> insertAfter(Composite&amp; composite) ;
<a name="l00512"></a>00512 
<a name="l00521"></a>00521     <span class="keywordtype">void</span> spliceBefore(Composite&amp; composite) ;
<a name="l00522"></a>00522 
<a name="l00531"></a>00531     <span class="keywordtype">void</span> spliceAfter(Composite&amp; composite) ;
<a name="l00532"></a>00532 
<a name="l00542"></a>00542     <span class="keywordtype">void</span> splice(Composite&amp; composite) ;
<a name="l00543"></a>00543 
<a name="l00552"></a>00552     <span class="keywordtype">bool</span> removeChild(Composite&amp; child) ;
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 
<a name="l00567"></a>00567     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> removeSelected() ;
<a name="l00568"></a>00568 
<a name="l00581"></a>00581     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> removeUnselected();
<a name="l00582"></a>00582 
<a name="l00591"></a>00591     <span class="keywordtype">void</span> replace(Composite&amp; composite) ;
<a name="l00592"></a>00592 
<a name="l00601"></a>00601     <span class="keywordtype">void</span> swap(Composite&amp; composite) ;
<a name="l00602"></a>00602 
<a name="l00611"></a>00611     virtual <span class="keywordtype">void</span> select() ;
<a name="l00612"></a>00612 
<a name="l00621"></a>00621     virtual <span class="keywordtype">void</span> deselect() ;
<a name="l00623"></a>00623 
<a name="l00626"></a>00626 
<a name="l00633"></a>00633     <span class="keywordtype">bool</span> operator == (const Composite&amp; composite) const ;
<a name="l00634"></a>00634 
<a name="l00638"></a>00638     <span class="keywordtype">bool</span> operator != (const Composite&amp; composite) const
<a name="l00639"></a>00639       ;
<a name="l00640"></a>00640 
<a name="l00644"></a>00644     <span class="keywordtype">bool</span> isEmpty() const ;
<a name="l00645"></a>00645 
<a name="l00649"></a>00649     <span class="keywordtype">bool</span> isRoot() const ;
<a name="l00650"></a>00650   
<a name="l00653"></a>00653     <span class="keywordtype">bool</span> isRootOf(const Composite&amp; composite) const ;
<a name="l00654"></a>00654   
<a name="l00657"></a>00657     <span class="keywordtype">bool</span> isInterior() const ;
<a name="l00658"></a>00658   
<a name="l00661"></a>00661     <span class="keywordtype">bool</span> hasChild() const ;
<a name="l00662"></a>00662   
<a name="l00665"></a>00665     <span class="keywordtype">bool</span> isChildOf(const Composite&amp; composite) const ;
<a name="l00666"></a>00666   
<a name="l00669"></a>00669     <span class="keywordtype">bool</span> isFirstChild() const ;
<a name="l00670"></a>00670   
<a name="l00673"></a>00673     <span class="keywordtype">bool</span> isFirstChildOf(const Composite&amp; composite) const ;
<a name="l00674"></a>00674   
<a name="l00677"></a>00677     <span class="keywordtype">bool</span> isLastChild() const ;
<a name="l00678"></a>00678   
<a name="l00681"></a>00681     <span class="keywordtype">bool</span> isLastChildOf(const Composite&amp; composite) const ;
<a name="l00682"></a>00682   
<a name="l00685"></a>00685     <span class="keywordtype">bool</span> hasParent() const ;
<a name="l00686"></a>00686 
<a name="l00689"></a>00689     <span class="keywordtype">bool</span> isParentOf(const Composite&amp; composite) const ;
<a name="l00690"></a>00690 
<a name="l00694"></a>00694     <span class="keywordtype">bool</span> hasSibling() const ;
<a name="l00695"></a>00695       
<a name="l00698"></a>00698     <span class="keywordtype">bool</span> isSiblingOf(const Composite&amp; composite) const ;
<a name="l00699"></a>00699       
<a name="l00703"></a>00703     <span class="keywordtype">bool</span> hasPreviousSibling() const ;
<a name="l00704"></a>00704   
<a name="l00707"></a>00707     <span class="keywordtype">bool</span> isPreviousSiblingOf(const Composite&amp; composite) const ;
<a name="l00708"></a>00708   
<a name="l00712"></a>00712     <span class="keywordtype">bool</span> hasNextSibling() const ;
<a name="l00713"></a>00713 
<a name="l00716"></a>00716     <span class="keywordtype">bool</span> isNextSiblingOf(const Composite&amp; composite) const ;
<a name="l00717"></a>00717     
<a name="l00720"></a>00720     <span class="keywordtype">bool</span> isDescendantOf(const Composite&amp; composite) const ;
<a name="l00721"></a>00721 
<a name="l00724"></a>00724     template &lt;typename T&gt;
<a name="l00725"></a>00725     <span class="keywordtype">bool</span> hasAncestor(const T&amp; dummy) const  ;
<a name="l00726"></a>00726 
<a name="l00729"></a>00729     <span class="keywordtype">bool</span> isAncestorOf(const Composite&amp; composite) const ;
<a name="l00730"></a>00730 
<a name="l00734"></a>00734     <span class="keywordtype">bool</span> isRelatedWith(const Composite&amp; composite) const ;
<a name="l00735"></a>00735   
<a name="l00739"></a>00739     <span class="keywordtype">bool</span> isHomomorph(const Composite&amp; composite) const ;
<a name="l00740"></a>00740 
<a name="l00750"></a>00750     <span class="keywordtype">bool</span> containsSelection() const ;
<a name="l00752"></a>00752 
<a name="l00758"></a>00758     virtual <span class="keywordtype">bool</span> isValid() const ;
<a name="l00759"></a>00759 
<a name="l00764"></a>00764     virtual <span class="keywordtype">void</span> dump(std::ostream&amp; s = std::cout, <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> depth = 0) const
<a name="l00765"></a>00765       ;
<a name="l00766"></a>00766 
<a name="l00768"></a>00768 
<a name="l00770"></a>00770 
<a name="l00776"></a>00776     <span class="keywordtype">void</span> host(<a class="code" href="classBALL_1_1Visitor.html">Visitor</a>&lt;Composite&gt;&amp; visitor)
<a name="l00777"></a>00777       throw(Exception::GeneralException);
<a name="l00778"></a>00778 
<a name="l00782"></a>00782     template &lt;typename T&gt;
<a name="l00783"></a>00783     <span class="keywordtype">bool</span> applyAncestor(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00784"></a>00784       throw(Exception::GeneralException);
<a name="l00785"></a>00785 
<a name="l00789"></a>00789     template &lt;typename T&gt;
<a name="l00790"></a>00790     <span class="keywordtype">bool</span> applyChild(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00791"></a>00791       throw(Exception::GeneralException);
<a name="l00792"></a>00792     
<a name="l00799"></a>00799     template &lt;typename T&gt;
<a name="l00800"></a>00800     <span class="keywordtype">bool</span> applyDescendantPreorder(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00801"></a>00801       throw(Exception::GeneralException);
<a name="l00802"></a>00802 
<a name="l00809"></a>00809     template &lt;typename T&gt;
<a name="l00810"></a>00810     <span class="keywordtype">bool</span> applyDescendantPostorder(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00811"></a>00811       throw(Exception::GeneralException);
<a name="l00812"></a>00812   
<a name="l00819"></a>00819     template &lt;typename T&gt;
<a name="l00820"></a>00820     <span class="keywordtype">bool</span> applyDescendant(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00821"></a>00821       throw(Exception::GeneralException);
<a name="l00822"></a>00822     
<a name="l00828"></a>00828     template &lt;typename T&gt;
<a name="l00829"></a>00829     <span class="keywordtype">bool</span> applyPreorder(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00830"></a>00830       throw(Exception::GeneralException);
<a name="l00831"></a>00831     
<a name="l00837"></a>00837     template &lt;typename T&gt;
<a name="l00838"></a>00838     <span class="keywordtype">bool</span> applyPostorder(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00839"></a>00839       throw(Exception::GeneralException);
<a name="l00840"></a>00840 
<a name="l00846"></a>00846     template &lt;typename T&gt;
<a name="l00847"></a>00847     <span class="keywordtype">bool</span> apply(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor)
<a name="l00848"></a>00848       throw(Exception::GeneralException);
<a name="l00849"></a>00849     
<a name="l00853"></a>00853     template &lt;typename T&gt;
<a name="l00854"></a>00854     <span class="keywordtype">bool</span> applyLevel(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor</a>&lt;T&gt;&amp; processor, <span class="keywordtype">long</span> level)
<a name="l00855"></a>00855       throw(Exception::GeneralException);
<a name="l00857"></a>00857 
<a name="l00858"></a>00858 
<a name="l00859"></a>00859   
<a name="l00860"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html">00860</a>     class <a class="code" href="COMMON_2global_8h.html#afc068a3fa668cb3f5a7f178772cc75bf">BALL_EXPORT</a> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html">AncestorIteratorTraits</a>
<a name="l00861"></a>00861     {
<a name="l00862"></a>00862       <span class="keyword">public</span>:
<a name="l00863"></a>00863 
<a name="l00864"></a>00864       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a>
<a name="l00865"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a1a8c7683068f8f2c445cc378af736030">00865</a>       AncestorIteratorTraits()
<a name="l00866"></a>00866         
<a name="l00867"></a>00867         : bound_(0),
<a name="l00868"></a>00868           ancestor_(0)
<a name="l00869"></a>00869       {
<a name="l00870"></a>00870       }
<a name="l00871"></a>00871     
<a name="l00872"></a>00872       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a>
<a name="l00873"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a7038d594565865d815fc4730536b21a5">00873</a>       AncestorIteratorTraits(<span class="keyword">const</span> Composite&amp; composite)
<a name="l00874"></a>00874         
<a name="l00875"></a>00875         : bound_(const_cast&lt;Composite*&gt;(&amp;composite)),
<a name="l00876"></a>00876           ancestor_(0)
<a name="l00877"></a>00877       {
<a name="l00878"></a>00878       }
<a name="l00879"></a>00879     
<a name="l00880"></a>00880       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a>
<a name="l00881"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ad9b1bc71553490aa8d6b3c58cf7a18f1">00881</a>       AncestorIteratorTraits(<span class="keyword">const</span> AncestorIteratorTraits&amp; traits)
<a name="l00882"></a>00882         
<a name="l00883"></a>00883         : bound_(traits.bound_),
<a name="l00884"></a>00884           ancestor_(traits.ancestor_)
<a name="l00885"></a>00885       {
<a name="l00886"></a>00886       }
<a name="l00887"></a>00887     
<a name="l00888"></a>00888       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a>
<a name="l00889"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4ad4b9b6694008a33a8db48caf3e4d79">00889</a>       <span class="keyword">const</span> AncestorIteratorTraits&amp; operator = (<span class="keyword">const</span> AncestorIteratorTraits&amp; traits)
<a name="l00890"></a>00890         
<a name="l00891"></a>00891       {
<a name="l00892"></a>00892         bound_ = traits.<a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a7669b8040ab6c9b04f2bf45e8792993f">bound_</a>;
<a name="l00893"></a>00893         ancestor_ = traits.<a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ac8d88b12caa9dabb03163ee9719a8577">ancestor_</a>;
<a name="l00894"></a>00894         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00895"></a>00895       }
<a name="l00896"></a>00896 
<a name="l00897"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4e1a38500b665859395b7b4440c21520">00897</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> Composite* <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4e1a38500b665859395b7b4440c21520">getContainer</a>()  { <span class="keywordflow">return</span> bound_; }
<a name="l00898"></a>00898 
<a name="l00899"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a50183811c6a6d7156b50469c2addc5bf">00899</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> Composite* <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a50183811c6a6d7156b50469c2addc5bf">getContainer</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> bound_; }
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4083c1767d5ebac12b4a7daf8a8c25f9">00901</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4083c1767d5ebac12b4a7daf8a8c25f9">isSingular</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> (bound_ == 0); }
<a name="l00902"></a>00902 
<a name="l00903"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af8b71de650fd05fcf03353979396f99e">00903</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> Composite* <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af8b71de650fd05fcf03353979396f99e">getPosition</a>()    { <span class="keywordflow">return</span> ancestor_; }
<a name="l00904"></a>00904 
<a name="l00905"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4d316a596401736232427d4567b518b9">00905</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> Composite* <span class="keyword">const</span>&amp; <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a4d316a596401736232427d4567b518b9">getPosition</a>()<span class="keyword"> const  </span>{  <span class="keywordflow">return</span> ancestor_; }
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a8624f8b148b933a4c219654cb86f2aeb">00907</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator == (<span class="keyword">const</span> AncestorIteratorTraits&amp; traits)<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> (ancestor_ == traits.<a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ac8d88b12caa9dabb03163ee9719a8577">ancestor_</a>); }
<a name="l00908"></a>00908     
<a name="l00909"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a8593ea7546c25c9863f588214f8f959a">00909</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator != (<span class="keyword">const</span> AncestorIteratorTraits&amp; traits)<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> !(ancestor_ == traits.<a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ac8d88b12caa9dabb03163ee9719a8577">ancestor_</a>); }
<a name="l00910"></a>00910 
<a name="l00911"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a717b1f54ddfd2deaec2e95d75f906090">00911</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a717b1f54ddfd2deaec2e95d75f906090">isValid</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> (bound_ != 0 &amp;&amp; ancestor_ != 0); }
<a name="l00912"></a>00912 
<a name="l00913"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a1f82a6cb1d65a0596cffa12ab6636f63">00913</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a1f82a6cb1d65a0596cffa12ab6636f63">invalidate</a>()   { bound_  = ancestor_ = 0; }
<a name="l00914"></a>00914       
<a name="l00915"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a3aabf9c912efcc2cb2fa15f461ec7802">00915</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a3aabf9c912efcc2cb2fa15f461ec7802">toBegin</a>()    { ancestor_ = bound_-&gt;parent_; }
<a name="l00916"></a>00916 
<a name="l00917"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a27c4aebbff8c17de859f87dbec0e94dd">00917</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a27c4aebbff8c17de859f87dbec0e94dd">isBegin</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (ancestor_ == bound_-&gt;parent_); }
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ae9f52cc89f61cd288d5d4b8337471b22">00919</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ae9f52cc89f61cd288d5d4b8337471b22">toEnd</a>()  { ancestor_ = 0;  }
<a name="l00920"></a>00920 
<a name="l00921"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a94ce07b8764cc19d0319b1698a2f2538">00921</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a94ce07b8764cc19d0319b1698a2f2538">isEnd</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (ancestor_ == 0); }
<a name="l00922"></a>00922 
<a name="l00923"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af3c31fcc770ec76e21d51b6c8e64165c">00923</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> Composite&amp; <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af3c31fcc770ec76e21d51b6c8e64165c">getData</a>()  { <span class="keywordflow">return</span> *ancestor_;  }
<a name="l00924"></a>00924 
<a name="l00925"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af1e49f8764e9258a6b57572ce455c12b">00925</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> Composite&amp; <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#af1e49f8764e9258a6b57572ce455c12b">getData</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *ancestor_; }
<a name="l00926"></a>00926 
<a name="l00927"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a55b999adda4feceec3df64b4fa95c22d">00927</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a55b999adda4feceec3df64b4fa95c22d">forward</a>()  { ancestor_ = ancestor_-&gt;parent_; }
<a name="l00928"></a>00928 
<a name="l00929"></a>00929       <span class="keyword">private</span>:
<a name="l00930"></a>00930 
<a name="l00931"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#a7669b8040ab6c9b04f2bf45e8792993f">00931</a>       Composite* bound_;
<a name="l00932"></a><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html#ac8d88b12caa9dabb03163ee9719a8577">00932</a>       Composite* ancestor_;
<a name="l00933"></a>00933     };
<a name="l00934"></a>00934 
<a name="l00935"></a><a class="code" href="classBALL_1_1Composite.html#a7c4f861dc9d26ed6ea33a553adf7500f">00935</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classBALL_1_1Composite_1_1AncestorIteratorTraits.html">AncestorIteratorTraits</a>;
<a name="l00936"></a>00936 
<a name="l00937"></a>00937     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1ForwardIterator.html">ForwardIterator &lt;Composite, Composite, Composite*, AncestorIteratorTraits&gt;</a>
<a name="l00938"></a><a class="code" href="classBALL_1_1Composite.html#a49d55170d7a2474e6d26ddff82ea8143">00938</a>       <a class="code" href="classBALL_1_1ForwardIterator.html">AncestorIterator</a>;
<a name="l00939"></a>00939 
<a name="l00940"></a><a class="code" href="classBALL_1_1Composite.html#abf5f6f538dde951ae769776b1a63f5bd">00940</a>     <a class="code" href="classBALL_1_1ForwardIterator.html">AncestorIterator</a> beginAncestor() 
<a name="l00941"></a>00941     {
<a name="l00942"></a>00942       <span class="keywordflow">return</span> AncestorIterator::begin(*<span class="keyword">this</span>);
<a name="l00943"></a>00943     }
<a name="l00944"></a>00944 
<a name="l00945"></a><a class="code" href="classBALL_1_1Composite.html#adf3385794f2ae99397111a7e4931c409">00945</a>     <a class="code" href="classBALL_1_1ForwardIterator.html">AncestorIterator</a> endAncestor() 
<a name="l00946"></a>00946     {
<a name="l00947"></a>00947       <span class="keywordflow">return</span> AncestorIterator::end(*<span class="keyword">this</span>);
<a name="l00948"></a>00948     }
<a name="l00949"></a>00949 
<a name="l00950"></a>00950     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1ConstForwardIterator.html">ConstForwardIterator&lt;Composite, Composite, Composite*, AncestorIteratorTraits&gt;</a>
<a name="l00951"></a><a class="code" href="classBALL_1_1Composite.html#a82ec3e4265c5204351dd8898724efebd">00951</a>       <a class="code" href="classBALL_1_1ConstForwardIterator.html">AncestorConstIterator</a>;
<a name="l00952"></a>00952 
<a name="l00953"></a><a class="code" href="classBALL_1_1Composite.html#ad739df1f2873458dfb0b3acadbecff74">00953</a>     <a class="code" href="classBALL_1_1ConstForwardIterator.html">AncestorConstIterator</a> beginAncestor()<span class="keyword"> const </span>
<a name="l00954"></a>00954 <span class="keyword">    </span>{
<a name="l00955"></a>00955       <span class="keywordflow">return</span> AncestorConstIterator::begin(*<span class="keyword">this</span>);
<a name="l00956"></a>00956     }
<a name="l00957"></a>00957 
<a name="l00958"></a><a class="code" href="classBALL_1_1Composite.html#a4eb43c26b02a72ddfd2551975bb1065a">00958</a>     <a class="code" href="classBALL_1_1ConstForwardIterator.html">AncestorConstIterator</a> endAncestor()<span class="keyword"> const </span>
<a name="l00959"></a>00959 <span class="keyword">    </span>{
<a name="l00960"></a>00960       <span class="keywordflow">return</span> AncestorConstIterator::end(*<span class="keyword">this</span>);
<a name="l00961"></a>00961     }
<a name="l00962"></a>00962 
<a name="l00963"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">00963</a>     <span class="keyword">class </span><a class="code" href="COMMON_2global_8h.html#afc068a3fa668cb3f5a7f178772cc75bf">BALL_EXPORT</a> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>
<a name="l00964"></a>00964     {
<a name="l00965"></a>00965       <span class="keyword">public</span>:
<a name="l00966"></a>00966 
<a name="l00967"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#af0cb2a0796f77bc4eb1415c6671c164c">00967</a>       <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>()
<a name="l00968"></a>00968         
<a name="l00969"></a>00969         : bound_(0),
<a name="l00970"></a>00970           child_(0)
<a name="l00971"></a>00971       {
<a name="l00972"></a>00972       }
<a name="l00973"></a>00973       
<a name="l00974"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a7d1ef1e6b65a042be6851e27837c2cf7">00974</a>       <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; composite)
<a name="l00975"></a>00975         
<a name="l00976"></a>00976         : bound_((<a class="code" href="classBALL_1_1Composite.html">Composite</a> *)&amp;composite),
<a name="l00977"></a>00977           child_(0)
<a name="l00978"></a>00978       {
<a name="l00979"></a>00979       }
<a name="l00980"></a>00980     
<a name="l00981"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a1ea8b40c1702216b4574a369dcabb373">00981</a>       <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>&amp; traits)
<a name="l00982"></a>00982         
<a name="l00983"></a>00983         : bound_(traits.bound_),
<a name="l00984"></a>00984           child_(traits.child_)
<a name="l00985"></a>00985       {
<a name="l00986"></a>00986       }
<a name="l00987"></a>00987     
<a name="l00988"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aa581250cb362e9688c3bc5c5fa5c375b">00988</a>       <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>&amp; traits)
<a name="l00989"></a>00989         
<a name="l00990"></a>00990       {
<a name="l00991"></a>00991         bound_ = traits.<a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a0b930fa36b7c8da7faf4428de497baad">bound_</a>;
<a name="l00992"></a>00992         child_ = traits.<a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a1c549be0f87fa1b93be652697575f760">child_</a>;
<a name="l00993"></a>00993         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00994"></a>00994       }
<a name="l00995"></a>00995 
<a name="l00996"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a107896b5bbee559203f099f47a6de59a">00996</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a107896b5bbee559203f099f47a6de59a">getContainer</a>()  {  <span class="keywordflow">return</span> bound_; }
<a name="l00997"></a>00997 
<a name="l00998"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aa3c193d531d7db664de483d6ed60b3a2">00998</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aa3c193d531d7db664de483d6ed60b3a2">getContainer</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> bound_; }
<a name="l00999"></a>00999 
<a name="l01000"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ab549dd63116fe65c522533d336b28e6a">01000</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ab549dd63116fe65c522533d336b28e6a">isSingular</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> (bound_ == 0); }
<a name="l01001"></a>01001 
<a name="l01002"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a2a2a34c0e5fb9d950cce860199844bc7">01002</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a2a2a34c0e5fb9d950cce860199844bc7">getPosition</a>()  { <span class="keywordflow">return</span> child_; }
<a name="l01003"></a>01003 
<a name="l01004"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ad9e934fa37ce96084552347ea005db65">01004</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <span class="keyword">const</span>&amp; <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ad9e934fa37ce96084552347ea005db65">getPosition</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> child_; }
<a name="l01005"></a>01005 
<a name="l01006"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ae8423a710ad86f1ce08ceb1c97a0ab1c">01006</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator == (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>&amp; traits)<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (child_ == traits.<a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a1c549be0f87fa1b93be652697575f760">child_</a>); }
<a name="l01007"></a>01007     
<a name="l01008"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a3d7b49a0f77b1341c20174e4edbb13ea">01008</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator != (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>&amp; traits)<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> !(child_ == traits.<a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a1c549be0f87fa1b93be652697575f760">child_</a>); }
<a name="l01009"></a>01009     
<a name="l01010"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a9cda820480a15de22d6a7b8f3d87f080">01010</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a9cda820480a15de22d6a7b8f3d87f080">isValid</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (bound_ != 0 &amp;&amp; child_ != 0); }
<a name="l01011"></a>01011 
<a name="l01012"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aed7e4ad3028ce53cba5720059fa08b1e">01012</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aed7e4ad3028ce53cba5720059fa08b1e">invalidate</a>()  { bound_ = child_ = 0; }
<a name="l01013"></a>01013 
<a name="l01014"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a9ed5cce4c7f54b423d22e79b5df19ac0">01014</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a9ed5cce4c7f54b423d22e79b5df19ac0">toBegin</a>()  { child_ = bound_-&gt;first_child_; }
<a name="l01015"></a>01015 
<a name="l01016"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a92c10bd5b6afd07bc1b6ab1b9d53ebae">01016</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a92c10bd5b6afd07bc1b6ab1b9d53ebae">isBegin</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (child_ == bound_-&gt;first_child_); }
<a name="l01017"></a>01017 
<a name="l01018"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a998efcaafb6fb9278106880fd01b79e9">01018</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a998efcaafb6fb9278106880fd01b79e9">toEnd</a>()  { child_ = 0; }
<a name="l01019"></a>01019 
<a name="l01020"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#abac32c1872d1b729d30d6a641f4e1df1">01020</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#abac32c1872d1b729d30d6a641f4e1df1">isEnd</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (child_ == 0); }
<a name="l01021"></a>01021 
<a name="l01022"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a7c62b6e431876266943566dbf756f36b">01022</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a7c62b6e431876266943566dbf756f36b">toRBegin</a>()  { child_ = bound_-&gt;last_child_; }
<a name="l01023"></a>01023 
<a name="l01024"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a01673128ac63a87c7fc0017bd4920853">01024</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a01673128ac63a87c7fc0017bd4920853">isRBegin</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (child_ == bound_-&gt;last_child_); }
<a name="l01025"></a>01025 
<a name="l01026"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a8ff135af5fd639e4c825d37a29062dfd">01026</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a8ff135af5fd639e4c825d37a29062dfd">toREnd</a>()  { child_ = 0; }
<a name="l01027"></a>01027 
<a name="l01028"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a5500a42cf2a8b8fa911a0fabfc8c9649">01028</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a5500a42cf2a8b8fa911a0fabfc8c9649">isREnd</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> (child_ == 0); }
<a name="l01029"></a>01029 
<a name="l01030"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aad8f91e38790e37b4c6f69f4619a860f">01030</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#aad8f91e38790e37b4c6f69f4619a860f">getData</a>()  { <span class="keywordflow">return</span> *child_; }
<a name="l01031"></a>01031 
<a name="l01032"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a8998bcb00fbbfa11fdb3333d80f73ac8">01032</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a8998bcb00fbbfa11fdb3333d80f73ac8">getData</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *child_; }
<a name="l01033"></a>01033 
<a name="l01034"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a509e9b6ab6ac40da0b021673be4519d2">01034</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a509e9b6ab6ac40da0b021673be4519d2">forward</a>()  { child_ = child_-&gt;next_; }
<a name="l01035"></a>01035 
<a name="l01036"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#ae3ac26432e814bc55c8caee5b6bda074">01036</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> backward()   
<a name="l01037"></a>01037       {   
<a name="l01038"></a>01038         <span class="keywordflow">if</span> (child_ == 0) 
<a name="l01039"></a>01039         { 
<a name="l01040"></a>01040           <span class="comment">// Allow decrementation for past-the-end iterators</span>
<a name="l01041"></a>01041           child_ = bound_-&gt;last_child_; 
<a name="l01042"></a>01042         }
<a name="l01043"></a>01043         <span class="keywordflow">else</span>  
<a name="l01044"></a>01044         { 
<a name="l01045"></a>01045           child_ = child_-&gt;previous_; 
<a name="l01046"></a>01046         } 
<a name="l01047"></a>01047       }
<a name="l01048"></a>01048 
<a name="l01049"></a>01049       <span class="keyword">private</span>:
<a name="l01050"></a>01050 
<a name="l01051"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a0b930fa36b7c8da7faf4428de497baad">01051</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* bound_;
<a name="l01052"></a><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html#a1c549be0f87fa1b93be652697575f760">01052</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* child_;
<a name="l01053"></a>01053     };
<a name="l01054"></a>01054 
<a name="l01055"></a><a class="code" href="classBALL_1_1Composite.html#ada1cc76fbb6eabb17d0760961c0a34dc">01055</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classBALL_1_1Composite_1_1ChildCompositeIteratorTraits.html">ChildCompositeIteratorTraits</a>;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1BidirectionalIterator.html" title="Mutable bidirectional iterator.">BidirectionalIterator&lt;Composite, Composite, Composite *, ChildCompositeIteratorTraits&gt;</a>
<a name="l01058"></a><a class="code" href="classBALL_1_1Composite.html#a937d89f45e5b35e42a40be902c3f8d28">01058</a>       <a class="code" href="classBALL_1_1BidirectionalIterator.html" title="Mutable bidirectional iterator.">ChildCompositeIterator</a>;
<a name="l01059"></a>01059 
<a name="l01060"></a><a class="code" href="classBALL_1_1Composite.html#ab4c27bae7e88e606402ed93db570e6cc">01060</a>     <a class="code" href="classBALL_1_1BidirectionalIterator.html" title="Mutable bidirectional iterator.">ChildCompositeIterator</a> beginChildComposite()
<a name="l01061"></a>01061       
<a name="l01062"></a>01062     {
<a name="l01063"></a>01063       <span class="keywordflow">return</span> ChildCompositeIterator::begin(*<span class="keyword">this</span>);
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065 
<a name="l01066"></a><a class="code" href="classBALL_1_1Composite.html#a72e75df226a68a8672b307c1613b4f61">01066</a>     <a class="code" href="classBALL_1_1BidirectionalIterator.html" title="Mutable bidirectional iterator.">ChildCompositeIterator</a> endChildComposite()
<a name="l01067"></a>01067       
<a name="l01068"></a>01068     {
<a name="l01069"></a>01069       <span class="keywordflow">return</span> ChildCompositeIterator::end(*<span class="keyword">this</span>);
<a name="l01070"></a>01070     }
<a name="l01071"></a>01071 
<a name="l01072"></a>01072 
<a name="l01073"></a>01073 
<a name="l01074"></a>01074     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">ConstBidirectionalIterator&lt;Composite, Composite, Composite *, ChildCompositeIteratorTraits&gt;</a>
<a name="l01075"></a><a class="code" href="classBALL_1_1Composite.html#a86b075c6c8861e5c3b766af1bb33ba4e">01075</a>       <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">ChildCompositeConstIterator</a>;
<a name="l01076"></a>01076 
<a name="l01077"></a><a class="code" href="classBALL_1_1Composite.html#a7b3eda58dc0f60fe94905ea7f630f7e5">01077</a>     <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">ChildCompositeConstIterator</a> beginChildComposite()<span class="keyword"> const</span>
<a name="l01078"></a>01078 <span class="keyword">      </span>
<a name="l01079"></a>01079 <span class="keyword">    </span>{
<a name="l01080"></a>01080       <span class="keywordflow">return</span> ChildCompositeConstIterator::begin(*<span class="keyword">this</span>);
<a name="l01081"></a>01081     }
<a name="l01082"></a>01082 
<a name="l01083"></a><a class="code" href="classBALL_1_1Composite.html#a51351e831ea7f060928d7c5dfcaec13d">01083</a>     <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">ChildCompositeConstIterator</a> endChildComposite()<span class="keyword"> const</span>
<a name="l01084"></a>01084 <span class="keyword">      </span>
<a name="l01085"></a>01085 <span class="keyword">    </span>{
<a name="l01086"></a>01086       <span class="keywordflow">return</span> ChildCompositeConstIterator::end(*<span class="keyword">this</span>);
<a name="l01087"></a>01087     }
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 
<a name="l01090"></a>01090 
<a name="l01091"></a><a class="code" href="classBALL_1_1Composite.html#ab923762bcc745e7d6102baeadfb0b2d1">01091</a>     <span class="keyword">typedef</span> std::reverse_iterator&lt;ChildCompositeIterator&gt; ChildCompositeReverseIterator;
<a name="l01092"></a>01092 
<a name="l01093"></a><a class="code" href="classBALL_1_1Composite.html#af3e47592b94194732ab50a6b5d1b4ba5">01093</a>     ChildCompositeReverseIterator rbeginChildComposite() 
<a name="l01094"></a>01094     {
<a name="l01095"></a>01095       <span class="keywordflow">return</span> ChildCompositeReverseIterator(endChildComposite());
<a name="l01096"></a>01096     }
<a name="l01097"></a>01097 
<a name="l01098"></a><a class="code" href="classBALL_1_1Composite.html#acc2110b1ec8145b461317a6d6ecfeb07">01098</a>     ChildCompositeReverseIterator rendChildComposite() 
<a name="l01099"></a>01099     {
<a name="l01100"></a>01100       <span class="keywordflow">return</span> ChildCompositeReverseIterator(beginChildComposite());
<a name="l01101"></a>01101     }
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 
<a name="l01104"></a>01104 
<a name="l01105"></a><a class="code" href="classBALL_1_1Composite.html#a745b38813538a836e9bba81339dc4b45">01105</a>     <span class="keyword">typedef</span> std::reverse_iterator&lt;ChildCompositeConstIterator&gt; ChildCompositeConstReverseIterator;
<a name="l01106"></a>01106 
<a name="l01107"></a><a class="code" href="classBALL_1_1Composite.html#a2e922880c22af2540ea1fee6bd14a0db">01107</a>     ChildCompositeConstReverseIterator rbeginChildComposite()<span class="keyword"> const </span>
<a name="l01108"></a>01108 <span class="keyword">    </span>{
<a name="l01109"></a>01109       <span class="keywordflow">return</span> ChildCompositeConstReverseIterator(endChildComposite());
<a name="l01110"></a>01110     }
<a name="l01111"></a>01111 
<a name="l01112"></a><a class="code" href="classBALL_1_1Composite.html#ab19ba1369f5488eedcab9e10e6716656">01112</a>     ChildCompositeConstReverseIterator rendChildComposite()<span class="keyword"> const </span>
<a name="l01113"></a>01113 <span class="keyword">    </span>{
<a name="l01114"></a>01114       <span class="keywordflow">return</span> ChildCompositeConstReverseIterator(beginChildComposite());
<a name="l01115"></a>01115     }
<a name="l01116"></a>01116 
<a name="l01117"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">01117</a>     <span class="keyword">class </span><a class="code" href="COMMON_2global_8h.html#afc068a3fa668cb3f5a7f178772cc75bf">BALL_EXPORT</a> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>
<a name="l01118"></a>01118     {
<a name="l01119"></a>01119       <span class="keyword">public</span>:
<a name="l01120"></a>01120 
<a name="l01121"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#abc15604bd5e4a666a3907bcd399ef262">01121</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>()
<a name="l01122"></a>01122         
<a name="l01123"></a>01123         : bound_(0),
<a name="l01124"></a>01124           position_(0)
<a name="l01125"></a>01125       {
<a name="l01126"></a>01126       }
<a name="l01127"></a>01127     
<a name="l01128"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ac4c99f7e147cf2f7237f575313f2fc9d">01128</a>       <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; composite)
<a name="l01129"></a>01129         
<a name="l01130"></a>01130         : bound_(const_cast&lt;<a class="code" href="classBALL_1_1Composite.html">Composite</a>*&gt;(&amp;composite)),
<a name="l01131"></a>01131           position_(0)
<a name="l01132"></a>01132       {
<a name="l01133"></a>01133       }
<a name="l01134"></a>01134     
<a name="l01135"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a6b68b65bfe0aebf0e120e69dd8573f14">01135</a>       <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>(<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>&amp; traits)
<a name="l01136"></a>01136         
<a name="l01137"></a>01137         : bound_(traits.bound_),
<a name="l01138"></a>01138           position_(traits.position_)
<a name="l01139"></a>01139       {
<a name="l01140"></a>01140       }
<a name="l01141"></a>01141 
<a name="l01142"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ab432a67a1bc3364f736381b857030199">01142</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ab432a67a1bc3364f736381b857030199">~CompositeIteratorTraits</a>()  {}
<a name="l01143"></a>01143     
<a name="l01144"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a95fac884c4025a11aeccecddf262afc2">01144</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> isValid()<span class="keyword"> const  </span>
<a name="l01145"></a>01145 <span class="keyword">      </span>{ 
<a name="l01146"></a>01146         <span class="keywordflow">return</span> ((bound_ != 0) &amp;&amp; (position_ != 0)); 
<a name="l01147"></a>01147       }
<a name="l01148"></a>01148 
<a name="l01149"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ab19ca611835cab6303706581508c70a6">01149</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>&amp; traits) 
<a name="l01150"></a>01150       {
<a name="l01151"></a>01151         bound_ = traits.<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#af499faf253c24357cfbb225384ce4ffe" title="A pointer to the &amp;quot;container&amp;quot; the iterator is bound to.">bound_</a>;
<a name="l01152"></a>01152         position_ = traits.<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a96711382c2da154949017939e96293fb" title="The current iterator position.">position_</a>;
<a name="l01153"></a>01153         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01154"></a>01154       }
<a name="l01155"></a>01155 
<a name="l01156"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a8b420acfdb78851235adbca49421a47a">01156</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a8b420acfdb78851235adbca49421a47a">getContainer</a>()   { <span class="keywordflow">return</span> bound_; }
<a name="l01157"></a>01157 
<a name="l01158"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a45dbd7f4732766bcb130050825b21cdf">01158</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a45dbd7f4732766bcb130050825b21cdf">getContainer</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> bound_; }
<a name="l01159"></a>01159     
<a name="l01160"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aefe049048fea93a79c18c5a0df28df8b">01160</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aefe049048fea93a79c18c5a0df28df8b">isSingular</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> (bound_ == 0); }
<a name="l01161"></a>01161     
<a name="l01162"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aa7e6a52fc9a526126de1797cc06c31f3">01162</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aa7e6a52fc9a526126de1797cc06c31f3">getPosition</a>()  { <span class="keywordflow">return</span> position_; }
<a name="l01163"></a>01163       
<a name="l01164"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a55708e4cb124af67a49c087852d7d625">01164</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>* <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a55708e4cb124af67a49c087852d7d625">getPosition</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> position_; }
<a name="l01165"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aea092dcecac673cb7bf24bc812b6aee5">01165</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aea092dcecac673cb7bf24bc812b6aee5">setPosition</a>(<a class="code" href="classBALL_1_1Composite.html">Composite</a>* position)  { position_ = position; }
<a name="l01166"></a>01166 
<a name="l01167"></a>01167 
<a name="l01168"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a8547d5d28b5d4285372b92370a3ba26d">01168</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a8547d5d28b5d4285372b92370a3ba26d">getData</a>()  { <span class="keywordflow">return</span> *position_; }
<a name="l01169"></a>01169 
<a name="l01170"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a98e41eedb734ffb02e207490ecd4a322">01170</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a98e41eedb734ffb02e207490ecd4a322">getData</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> *position_; }
<a name="l01171"></a>01171 
<a name="l01172"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aa63b72d90b78aa73d0e743cdc720f275">01172</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator == (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>&amp; traits)<span class="keyword"> const  </span>
<a name="l01173"></a>01173 <span class="keyword">      </span>{ 
<a name="l01174"></a>01174         <span class="keywordflow">return</span> (position_ == traits.<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a96711382c2da154949017939e96293fb" title="The current iterator position.">position_</a>); 
<a name="l01175"></a>01175       }
<a name="l01176"></a>01176     
<a name="l01177"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#af1c27b9cdc68b2dc6411cf9964770e34">01177</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> operator != (<span class="keyword">const</span> <a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>&amp; traits)<span class="keyword"> const  </span>
<a name="l01178"></a>01178 <span class="keyword">      </span>{ 
<a name="l01179"></a>01179         <span class="keywordflow">return</span> !(position_ == traits.<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a96711382c2da154949017939e96293fb" title="The current iterator position.">position_</a>); 
<a name="l01180"></a>01180       }
<a name="l01181"></a>01181     
<a name="l01182"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a3f0b1c32ea2102cb0c5e1227388baf38">01182</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> invalidate()   
<a name="l01183"></a>01183       { 
<a name="l01184"></a>01184         bound_ = 0; 
<a name="l01185"></a>01185         position_ = 0;
<a name="l01186"></a>01186       }
<a name="l01187"></a>01187 
<a name="l01188"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#abdbba53a2967aa2e46f2bb3d58455874">01188</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> toBegin() 
<a name="l01189"></a>01189       {
<a name="l01190"></a>01190         position_ = bound_;
<a name="l01191"></a>01191       }
<a name="l01192"></a>01192 
<a name="l01193"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a3c08f56658d260e071c9a686702cadec">01193</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> isBegin()<span class="keyword"> const </span>
<a name="l01194"></a>01194 <span class="keyword">      </span>{
<a name="l01195"></a>01195         <span class="keywordflow">return</span> (position_ == bound_);
<a name="l01196"></a>01196       }
<a name="l01197"></a>01197 
<a name="l01198"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aa640a14d753bffcf38f9559847190e5f">01198</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> toEnd()  
<a name="l01199"></a>01199       {
<a name="l01200"></a>01200         position_ = 0;
<a name="l01201"></a>01201       }
<a name="l01202"></a>01202 
<a name="l01203"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a5465cda5726f57d379e7058077e1d992">01203</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> isEnd()<span class="keyword"> const </span>
<a name="l01204"></a>01204 <span class="keyword">      </span>{
<a name="l01205"></a>01205         <span class="keywordflow">return</span> (position_ == 0);
<a name="l01206"></a>01206       }
<a name="l01207"></a>01207 
<a name="l01208"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a3097ab2ce8bc10c2b90222a1627dc39c">01208</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> toRBegin() 
<a name="l01209"></a>01209       {
<a name="l01210"></a>01210         <span class="keywordflow">if</span> (bound_ != 0)
<a name="l01211"></a>01211         {
<a name="l01212"></a>01212           position_ = findPreviousPosition(0);
<a name="l01213"></a>01213         }
<a name="l01214"></a>01214       }
<a name="l01215"></a>01215 
<a name="l01216"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a2efc62beecb5d787bf31ba693602380f">01216</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> isRBegin()<span class="keyword"> const </span>
<a name="l01217"></a>01217 <span class="keyword">      </span>{
<a name="l01218"></a>01218         <span class="keywordflow">return</span> (position_ == findPreviousPosition(0));
<a name="l01219"></a>01219       }
<a name="l01220"></a>01220     
<a name="l01221"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a39a72608beb56c2f0acd131776de3eef">01221</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> toREnd() 
<a name="l01222"></a>01222       { 
<a name="l01223"></a>01223         position_ = bound_;
<a name="l01224"></a>01224       }
<a name="l01225"></a>01225 
<a name="l01226"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ac741555b6a7123a12f4737f819d4188b">01226</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">bool</span> isREnd()<span class="keyword"> const </span>
<a name="l01227"></a>01227 <span class="keyword">      </span>{
<a name="l01228"></a>01228         <span class="keywordflow">return</span> (position_ == bound_);
<a name="l01229"></a>01229       }
<a name="l01230"></a>01230     
<a name="l01231"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aba7af7ceb01f97e52e6b0441dba9afed">01231</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> forward() 
<a name="l01232"></a>01232       {
<a name="l01233"></a>01233         position_ = findNextPosition(position_);
<a name="l01234"></a>01234       }
<a name="l01235"></a>01235 
<a name="l01236"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#af194b3cdaee5c5db268570006b067990">01236</a>       <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> <span class="keywordtype">void</span> backward() 
<a name="l01237"></a>01237       {
<a name="l01238"></a>01238         position_ = findPreviousPosition(position_);
<a name="l01239"></a>01239       }
<a name="l01240"></a>01240 
<a name="l01241"></a>01241       <span class="keyword">protected</span>:
<a name="l01242"></a>01242 
<a name="l01244"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#af499faf253c24357cfbb225384ce4ffe">01244</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* bound_;
<a name="l01245"></a>01245 
<a name="l01247"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a96711382c2da154949017939e96293fb">01247</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* position_;
<a name="l01248"></a>01248 
<a name="l01249"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#a7d227cc87e001c18888720d84c50f2d1">01249</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* findPreviousPosition(<a class="code" href="classBALL_1_1Composite.html">Composite</a>* p)<span class="keyword"> const</span>
<a name="l01250"></a>01250 <span class="keyword">      </span>{
<a name="l01251"></a>01251         <span class="comment">// If we are at the root of the iterator, the </span>
<a name="l01252"></a>01252         <span class="comment">// decrementing it results in an invalid iterator</span>
<a name="l01253"></a>01253         <span class="comment">// (past-the-end).</span>
<a name="l01254"></a>01254         <span class="keywordflow">if</span> (p == bound_)
<a name="l01255"></a>01255         {
<a name="l01256"></a>01256           <span class="keywordflow">return</span> 0;
<a name="l01257"></a>01257         }
<a name="l01258"></a>01258         <span class="comment">// If we decrement a past-the-end-iterator, we</span>
<a name="l01259"></a>01259         <span class="comment">// start at the root and &quot;fall down&quot; on the right</span>
<a name="l01260"></a>01260         <span class="comment">// hand side following the last_child_ pointers</span>
<a name="l01261"></a>01261         <span class="comment">// until we hit bottom.</span>
<a name="l01262"></a>01262         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p == 0)
<a name="l01263"></a>01263         {
<a name="l01264"></a>01264           <span class="keywordflow">if</span> (bound_-&gt;last_child_ == 0)
<a name="l01265"></a>01265           {
<a name="l01266"></a>01266             <span class="keywordflow">return</span> bound_;
<a name="l01267"></a>01267           }
<a name="l01268"></a>01268           <span class="keywordflow">else</span>
<a name="l01269"></a>01269           {
<a name="l01270"></a>01270             p = bound_-&gt;<a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">last_child_</a>;
<a name="l01271"></a>01271           }
<a name="l01272"></a>01272           <span class="keywordflow">while</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">last_child_</a> != 0)
<a name="l01273"></a>01273           {
<a name="l01274"></a>01274             p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">last_child_</a>;
<a name="l01275"></a>01275           }
<a name="l01276"></a>01276         }
<a name="l01277"></a>01277         <span class="comment">// Normally, we just grab the guy to the</span>
<a name="l01278"></a>01278         <span class="comment">// left in the doubly-linked child list.</span>
<a name="l01279"></a>01279         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#ab1dbeed50f83bcb9e6b28902702928e7">previous_</a> != 0)
<a name="l01280"></a>01280         {
<a name="l01281"></a>01281           p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#ab1dbeed50f83bcb9e6b28902702928e7">previous_</a>;
<a name="l01282"></a>01282 
<a name="l01283"></a>01283           <span class="comment">// If the guy to the left hast children,</span>
<a name="l01284"></a>01284           <span class="comment">// we do the drop on the rigth again.</span>
<a name="l01285"></a>01285           <span class="keywordflow">while</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">last_child_</a> != 0)
<a name="l01286"></a>01286           {
<a name="l01287"></a>01287             p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">last_child_</a>;
<a name="l01288"></a>01288           }
<a name="l01289"></a>01289         }
<a name="l01290"></a>01290         <span class="comment">// Finally, if we can&apos;t go down and we can&apos;t go </span>
<a name="l01291"></a>01291         <span class="comment">// left, we have to go upwards.</span>
<a name="l01292"></a>01292         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p != bound_)
<a name="l01293"></a>01293         {
<a name="l01294"></a>01294           p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>;
<a name="l01295"></a>01295         }
<a name="l01296"></a>01296 
<a name="l01297"></a>01297         <span class="keywordflow">return</span> p;
<a name="l01298"></a>01298       }
<a name="l01299"></a>01299 
<a name="l01300"></a><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#ab25a60d6a31dc1795e261f8f11313e9a">01300</a>       <a class="code" href="classBALL_1_1Composite.html">Composite</a>* findNextPosition(<a class="code" href="classBALL_1_1Composite.html">Composite</a>* p)<span class="keyword"> const</span>
<a name="l01301"></a>01301 <span class="keyword">      </span>{
<a name="l01302"></a>01302         <span class="comment">// If we are in a past-the-end position, we stay put.</span>
<a name="l01303"></a>01303         <span class="keywordflow">if</span> (p == 0)
<a name="l01304"></a>01304         {
<a name="l01305"></a>01305           <span class="keywordflow">return</span> 0;
<a name="l01306"></a>01306         }
<a name="l01307"></a>01307         <span class="comment">// Otherwise, we try the first child. If there&apos;s one,</span>
<a name="l01308"></a>01308         <span class="comment">// that&apos;s our next position.</span>
<a name="l01309"></a>01309         <span class="keywordflow">else</span> 
<a name="l01310"></a>01310         {
<a name="l01311"></a>01311           <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#adba0feff5a9e3d66b086407428d48bc5">first_child_</a> != 0)
<a name="l01312"></a>01312           {
<a name="l01313"></a>01313             p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#adba0feff5a9e3d66b086407428d48bc5">first_child_</a>;
<a name="l01314"></a>01314           }
<a name="l01315"></a>01315           <span class="keywordflow">else</span> 
<a name="l01316"></a>01316           {
<a name="l01317"></a>01317             <span class="comment">// If we are already in the root node, we are done.</span>
<a name="l01318"></a>01318             <span class="keywordflow">if</span> (p == bound_)
<a name="l01319"></a>01319             {
<a name="l01320"></a>01320               <span class="keywordflow">return</span> 0;
<a name="l01321"></a>01321             }
<a name="l01322"></a>01322             <span class="comment">// Otherwise, we try to walk to the right at the current level.</span>
<a name="l01323"></a>01323             <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#a14b6daa5f4cf7ba9a2b7125c9cb483d8">next_</a> != 0)
<a name="l01324"></a>01324             {
<a name="l01325"></a>01325               p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a14b6daa5f4cf7ba9a2b7125c9cb483d8">next_</a>;
<a name="l01326"></a>01326             }
<a name="l01327"></a>01327             <span class="comment">// If that doesn&apos;t work out, we&apos;ll have to climb up again.</span>
<a name="l01328"></a>01328             <span class="comment">// Now, we either revisit a node we have already been to, or we</span>
<a name="l01329"></a>01329             <span class="comment">// are trying to climb up *beyond* our iteration root (bound_).</span>
<a name="l01330"></a>01330             <span class="comment">// In the latter case, we return a past-the-end-iterator (0).</span>
<a name="l01331"></a>01331             <span class="keywordflow">else</span>
<a name="l01332"></a>01332             {
<a name="l01333"></a>01333               <span class="comment">// If we could not walk left or right and we are at the root</span>
<a name="l01334"></a>01334               <span class="comment">// again, then we are done with the iteration (this is the</span>
<a name="l01335"></a>01335               <span class="comment">// case if bound_ is a leaf node).</span>
<a name="l01336"></a>01336               <span class="keywordflow">while</span> (p-&gt;<a class="code" href="classBALL_1_1Composite.html#a14b6daa5f4cf7ba9a2b7125c9cb483d8">next_</a> == 0)
<a name="l01337"></a>01337               {
<a name="l01338"></a>01338                 p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>;
<a name="l01339"></a>01339                 <span class="keywordflow">if</span> ((p == bound_) || (p == 0))
<a name="l01340"></a>01340                 {
<a name="l01341"></a>01341                   <span class="keywordflow">return</span> 0;
<a name="l01342"></a>01342                 }
<a name="l01343"></a>01343               }
<a name="l01344"></a>01344               p = p-&gt;<a class="code" href="classBALL_1_1Composite.html#a14b6daa5f4cf7ba9a2b7125c9cb483d8">next_</a>;
<a name="l01345"></a>01345             }
<a name="l01346"></a>01346           }
<a name="l01347"></a>01347         }
<a name="l01348"></a>01348         <span class="keywordflow">return</span> p;
<a name="l01349"></a>01349       }
<a name="l01350"></a>01350     };
<a name="l01351"></a>01351 
<a name="l01352"></a><a class="code" href="classBALL_1_1Composite.html#a64b29dd66e20875537f0e23a6894c49a">01352</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html">CompositeIteratorTraits</a>;
<a name="l01353"></a>01353 
<a name="l01354"></a>01354     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1BidirectionalIterator.html">BidirectionalIterator&lt;Composite, Composite, Composite*, CompositeIteratorTraits&gt;</a>
<a name="l01355"></a><a class="code" href="classBALL_1_1Composite.html#ae36f0264e5d5fdf9fe0849a87b6187c1">01355</a>       <a class="code" href="classBALL_1_1BidirectionalIterator.html">CompositeIterator</a>;
<a name="l01356"></a>01356 
<a name="l01357"></a><a class="code" href="classBALL_1_1Composite.html#afcf65149692564a6c2ee70e5c8bd3a7f">01357</a>     <a class="code" href="classBALL_1_1BidirectionalIterator.html">CompositeIterator</a> <a class="code" href="classBALL_1_1Composite.html#afcf65149692564a6c2ee70e5c8bd3a7f">beginComposite</a>()  { <span class="keywordflow">return</span> CompositeIterator::begin(*<span class="keyword">this</span>); }
<a name="l01358"></a>01358 
<a name="l01359"></a><a class="code" href="classBALL_1_1Composite.html#aa47cccedce818e53a33acdce794ae99a">01359</a>     <a class="code" href="classBALL_1_1BidirectionalIterator.html">CompositeIterator</a> <a class="code" href="classBALL_1_1Composite.html#aa47cccedce818e53a33acdce794ae99a">endComposite</a>()  { <span class="keywordflow">return</span> CompositeIterator::end(*<span class="keyword">this</span>); }
<a name="l01360"></a>01360 
<a name="l01361"></a>01361     <span class="keyword">typedef</span> <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">ConstBidirectionalIterator&lt;Composite, Composite, Composite*, CompositeIteratorTraits&gt;</a>
<a name="l01362"></a><a class="code" href="classBALL_1_1Composite.html#ac7b6898d0cd32ec744ba3c48b7ea4043">01362</a>       <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">CompositeConstIterator</a>;
<a name="l01363"></a>01363 
<a name="l01364"></a><a class="code" href="classBALL_1_1Composite.html#ac92ede748696282be622e559b6583aa6">01364</a>     <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">CompositeConstIterator</a> beginComposite()<span class="keyword"> const  </span>
<a name="l01365"></a>01365 <span class="keyword">    </span>{ 
<a name="l01366"></a>01366       <span class="keywordflow">return</span> CompositeConstIterator::begin(*<span class="keyword">this</span>);
<a name="l01367"></a>01367     }
<a name="l01368"></a>01368 
<a name="l01369"></a><a class="code" href="classBALL_1_1Composite.html#a9e241bc050ce08bd3dfba0d85fa15c42">01369</a>     <a class="code" href="classBALL_1_1ConstBidirectionalIterator.html">CompositeConstIterator</a> endComposite()<span class="keyword"> const </span>
<a name="l01370"></a>01370 <span class="keyword">    </span>{
<a name="l01371"></a>01371       <span class="keywordflow">return</span> CompositeConstIterator::end(*<span class="keyword">this</span>);
<a name="l01372"></a>01372     }
<a name="l01373"></a>01373 
<a name="l01374"></a>01374 
<a name="l01375"></a><a class="code" href="classBALL_1_1Composite.html#a0027814c5bc889bfde29fccf452f7ae5">01375</a>     <span class="keyword">typedef</span> std::reverse_iterator&lt;CompositeIterator&gt; CompositeReverseIterator;
<a name="l01376"></a>01376 
<a name="l01377"></a><a class="code" href="classBALL_1_1Composite.html#a6732d578d8d5ec77197c46c79dcf150d">01377</a>     CompositeReverseIterator rbeginComposite() 
<a name="l01378"></a>01378     {
<a name="l01379"></a>01379       <span class="keywordflow">return</span> CompositeReverseIterator(endComposite());
<a name="l01380"></a>01380     }
<a name="l01381"></a>01381 
<a name="l01382"></a><a class="code" href="classBALL_1_1Composite.html#a18ddda65eccb27f4a8f166ad6b51ba57">01382</a>     CompositeReverseIterator rendComposite() 
<a name="l01383"></a>01383     {
<a name="l01384"></a>01384       <span class="keywordflow">return</span> CompositeReverseIterator(beginComposite());
<a name="l01385"></a>01385     }
<a name="l01386"></a>01386 
<a name="l01387"></a>01387 
<a name="l01388"></a><a class="code" href="classBALL_1_1Composite.html#a4bb7458d4f1cb094284963be23f75705">01388</a>     <span class="keyword">typedef</span> std::reverse_iterator&lt;CompositeConstIterator&gt; CompositeConstReverseIterator;
<a name="l01389"></a>01389 
<a name="l01390"></a><a class="code" href="classBALL_1_1Composite.html#a9d7375f19cd27fd035801f1411fbfe46">01390</a>     CompositeConstReverseIterator rbeginComposite()<span class="keyword"> const </span>
<a name="l01391"></a>01391 <span class="keyword">    </span>{
<a name="l01392"></a>01392       <span class="keywordflow">return</span> CompositeConstReverseIterator(endComposite());
<a name="l01393"></a>01393     }
<a name="l01394"></a>01394 
<a name="l01395"></a><a class="code" href="classBALL_1_1Composite.html#a0f29fdf544e2c8fed200124815d48489">01395</a>     CompositeConstReverseIterator rendComposite()<span class="keyword"> const </span>
<a name="l01396"></a>01396 <span class="keyword">    </span>{
<a name="l01397"></a>01397       <span class="keywordflow">return</span> CompositeConstReverseIterator(beginComposite());
<a name="l01398"></a>01398     }
<a name="l01399"></a>01399 
<a name="l01400"></a>01400     <span class="comment">/*</span>
<a name="l01401"></a>01401 <span class="comment">     * This function removes and deletes all composites that are</span>
<a name="l01402"></a>01402 <span class="comment">     * supplied in the list of children.</span>
<a name="l01403"></a>01403 <span class="comment">     */</span>
<a name="l01404"></a>01404     <span class="keywordtype">void</span> deleteChildrenList_(std::list&lt;Composite*&gt;&amp; composites);
<a name="l01405"></a>01405 
<a name="l01406"></a>01406     <span class="keyword">private</span>:
<a name="l01407"></a>01407     
<a name="l01409"></a>01409     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> getHeight_(<a class="code" href="classBALL__SIZE__TYPE.html">Size</a> size, <a class="code" href="classBALL__SIZE__TYPE.html">Size</a>&amp; max_height) <span class="keyword">const</span> ;
<a name="l01410"></a>01410   
<a name="l01412"></a>01412     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a> countDescendants_() <span class="keyword">const</span> ;
<a name="l01413"></a>01413 
<a name="l01415"></a>01415     <span class="keywordtype">void</span> clone_(<a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; parent, <a class="code" href="classBALL_1_1Composite.html">Composite</a>&amp; stack) <span class="keyword">const</span> ;
<a name="l01416"></a>01416 
<a name="l01417"></a>01417     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01418"></a>01418     <span class="keywordtype">bool</span> applyLevelNostart_(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor, <span class="keywordtype">long</span> level)
<a name="l01419"></a>01419       <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>);
<a name="l01420"></a>01420 
<a name="l01421"></a>01421     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01422"></a>01422     <span class="keywordtype">bool</span> applyChildNostart_(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01423"></a>01423       <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>);
<a name="l01424"></a>01424 
<a name="l01425"></a>01425     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01426"></a>01426     <span class="keywordtype">bool</span> applyPreorderNostart_(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01427"></a>01427       <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>);
<a name="l01428"></a>01428 
<a name="l01429"></a>01429     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01430"></a>01430     <span class="keywordtype">bool</span> applyDescendantPreorderNostart_(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01431"></a>01431       <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>);
<a name="l01432"></a>01432 
<a name="l01433"></a>01433     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01434"></a>01434     <span class="keywordtype">bool</span> applyDescendantPostorderNostart_(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01435"></a>01435       <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>);
<a name="l01436"></a>01436 
<a name="l01437"></a>01437 
<a name="l01438"></a>01438     <span class="keywordtype">void</span> updateSelection_() ;
<a name="l01439"></a>01439     <span class="keywordtype">void</span> determineSelection_() ;
<a name="l01440"></a>01440     <span class="keywordtype">void</span> select_(<span class="keywordtype">bool</span> update_parent = <span class="keyword">true</span>) ;
<a name="l01441"></a>01441     <span class="keywordtype">void</span> deselect_(<span class="keywordtype">bool</span> update_parent = <span class="keyword">true</span>) ;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443     <span class="comment">// private attributes</span>
<a name="l01444"></a>01444     
<a name="l01445"></a><a class="code" href="classBALL_1_1Composite.html#a90d5f2103ad5812208efae910c60756a">01445</a>     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a>            number_of_children_;
<a name="l01446"></a><a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">01446</a>     <a class="code" href="classBALL_1_1Composite.html">Composite</a>*      parent_;
<a name="l01447"></a><a class="code" href="classBALL_1_1Composite.html#ab1dbeed50f83bcb9e6b28902702928e7">01447</a>     <a class="code" href="classBALL_1_1Composite.html">Composite</a>*      previous_;
<a name="l01448"></a><a class="code" href="classBALL_1_1Composite.html#a14b6daa5f4cf7ba9a2b7125c9cb483d8">01448</a>     <a class="code" href="classBALL_1_1Composite.html">Composite</a>*      next_;
<a name="l01449"></a><a class="code" href="classBALL_1_1Composite.html#adba0feff5a9e3d66b086407428d48bc5">01449</a>     <a class="code" href="classBALL_1_1Composite.html">Composite</a>*      first_child_;
<a name="l01450"></a><a class="code" href="classBALL_1_1Composite.html#a8bc906db1061a41bcd92277aa0833f84">01450</a>     <a class="code" href="classBALL_1_1Composite.html">Composite</a>*      last_child_;
<a name="l01451"></a><a class="code" href="classBALL_1_1Composite.html#a986a7bcd68893bbbaa68d7d31107f995">01451</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   properties_;
<a name="l01452"></a><a class="code" href="classBALL_1_1Composite.html#a451698b5f58d18a9e8e96a696828adee">01452</a>     <span class="keywordtype">bool</span>            contains_selection_;
<a name="l01453"></a><a class="code" href="classBALL_1_1Composite.html#a477a15ccb45715de3cd0a1d5b4058277">01453</a>     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a>            number_of_selected_children_;
<a name="l01454"></a><a class="code" href="classBALL_1_1Composite.html#a253274d74c1951159849ad08de72f371">01454</a>     <a class="code" href="classBALL__SIZE__TYPE.html">Size</a>            number_of_children_containing_selection_;
<a name="l01455"></a><a class="code" href="classBALL_1_1Composite.html#ad88938fbb26d9c5d07ec7485ef557286">01455</a>     <a class="code" href="classBALL_1_1TimeStamp.html">TimeStamp</a>       selection_stamp_;
<a name="l01456"></a><a class="code" href="classBALL_1_1Composite.html#abd25abae50e6eb25ca91040bb970f942">01456</a>     <a class="code" href="classBALL_1_1TimeStamp.html">TimeStamp</a>       modification_stamp_;
<a name="l01457"></a>01457   };
<a name="l01458"></a>01458 
<a name="l01459"></a>01459   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01460"></a><a class="code" href="classBALL_1_1Composite.html#ab61d271fcbb849e736d1d99f611395d7">01460</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#ab61d271fcbb849e736d1d99f611395d7">Composite::applyAncestor</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01461"></a>01461     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01462"></a>01462   {
<a name="l01463"></a>01463     <span class="keywordflow">if</span> (processor.start() == <span class="keyword">false</span>)
<a name="l01464"></a>01464     {
<a name="l01465"></a>01465       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01466"></a>01466     }
<a name="l01467"></a>01467 
<a name="l01468"></a>01468     <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result;
<a name="l01469"></a>01469 
<a name="l01470"></a>01470     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite = parent_; composite != 0; composite = composite-&gt;parent_)
<a name="l01471"></a>01471     {
<a name="l01472"></a>01472       T* t_ptr;
<a name="l01473"></a>01473       <span class="keywordflow">if</span> ((t_ptr = dynamic_cast&lt;T*&gt;(composite)) != 0)
<a name="l01474"></a>01474       { 
<a name="l01475"></a>01475         result = processor(*t_ptr);
<a name="l01476"></a>01476         <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01477"></a>01477         {
<a name="l01478"></a>01478           <span class="keywordflow">return</span> (result == <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01479"></a>01479         }
<a name="l01480"></a>01480       }
<a name="l01481"></a>01481     }
<a name="l01482"></a>01482 
<a name="l01483"></a>01483     <span class="keywordflow">return</span> processor.finish();
<a name="l01484"></a>01484   }
<a name="l01485"></a>01485   
<a name="l01486"></a>01486   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01487"></a><a class="code" href="classBALL_1_1Composite.html#ac56fb437a5b07cca1268c02e95d13155">01487</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#ac56fb437a5b07cca1268c02e95d13155">Composite::applyChild</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01488"></a>01488     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01489"></a>01489   {
<a name="l01490"></a>01490     <span class="keywordflow">return</span> processor.start() &amp;&amp; applyChildNostart_(processor) &amp;&amp; processor.finish();
<a name="l01491"></a>01491   }
<a name="l01492"></a>01492 
<a name="l01493"></a>01493   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01494"></a><a class="code" href="classBALL_1_1Composite.html#aae803d09858858698b4661e4a3950b44">01494</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#aae803d09858858698b4661e4a3950b44">Composite::applyChildNostart_</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01495"></a>01495     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01496"></a>01496   {
<a name="l01497"></a>01497     <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result = <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37ae3f38a081c3ab196b7189484fee8c162">Processor::CONTINUE</a>;
<a name="l01498"></a>01498 
<a name="l01499"></a>01499     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite = first_child_;
<a name="l01500"></a>01500          composite != 0; composite = composite-&gt;next_)
<a name="l01501"></a>01501     {
<a name="l01502"></a>01502       T* t_ptr;
<a name="l01503"></a>01503       <span class="keywordflow">if</span> ((t_ptr = dynamic_cast&lt;T*&gt;(composite)) != 0)
<a name="l01504"></a>01504       {
<a name="l01505"></a>01505         result = processor(*t_ptr);
<a name="l01506"></a>01506         <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01507"></a>01507         {
<a name="l01508"></a>01508           <span class="keywordflow">break</span>;
<a name="l01509"></a>01509         }
<a name="l01510"></a>01510       }
<a name="l01511"></a>01511     }
<a name="l01512"></a>01512 
<a name="l01513"></a>01513     <span class="keywordflow">return</span> (result &gt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01514"></a>01514   }
<a name="l01515"></a>01515  
<a name="l01516"></a>01516   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01517"></a><a class="code" href="classBALL_1_1Composite.html#abfc3f1c2522ef26de7e6e8c10b34d01c">01517</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#abfc3f1c2522ef26de7e6e8c10b34d01c">Composite::applyDescendantPreorder</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01518"></a>01518     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01519"></a>01519   {
<a name="l01520"></a>01520     <span class="keywordflow">return</span> processor.start() &amp;&amp; applyDescendantPreorderNostart_(processor) &amp;&amp; processor.finish();
<a name="l01521"></a>01521   }
<a name="l01522"></a>01522 
<a name="l01523"></a>01523   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01524"></a><a class="code" href="classBALL_1_1Composite.html#a94904d6e448d29953917b01aa1c5ced6">01524</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#a94904d6e448d29953917b01aa1c5ced6">Composite::applyDescendantPreorderNostart_</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01525"></a>01525     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01526"></a>01526   {
<a name="l01527"></a>01527     <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result;
<a name="l01528"></a>01528 
<a name="l01529"></a>01529     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite = first_child_;
<a name="l01530"></a>01530          composite != 0; composite = composite-&gt;next_)
<a name="l01531"></a>01531     {
<a name="l01532"></a>01532       T* t_ptr;
<a name="l01533"></a>01533       <span class="keywordflow">if</span> ((t_ptr = dynamic_cast&lt;T*&gt;(composite)) != 0)
<a name="l01534"></a>01534       { 
<a name="l01535"></a>01535         result = processor(*t_ptr);
<a name="l01536"></a>01536 
<a name="l01537"></a>01537         <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01538"></a>01538         {
<a name="l01539"></a>01539           <span class="keywordflow">return</span> (result == <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01540"></a>01540         }
<a name="l01541"></a>01541       }
<a name="l01542"></a>01542 
<a name="l01543"></a>01543       <span class="keywordflow">if</span> (composite-&gt;first_child_ != 0  &amp;&amp; composite-&gt;applyDescendantPreorderNostart_(processor) == <span class="keyword">false</span>)
<a name="l01544"></a>01544       {
<a name="l01545"></a>01545         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01546"></a>01546       }
<a name="l01547"></a>01547     }
<a name="l01548"></a>01548 
<a name="l01549"></a>01549     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01550"></a>01550   }
<a name="l01551"></a>01551 
<a name="l01552"></a>01552   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01553"></a><a class="code" href="classBALL_1_1Composite.html#ad26c9b58d0992e9a0388ffd5d2b02e89">01553</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#ad26c9b58d0992e9a0388ffd5d2b02e89">Composite::applyDescendantPostorder</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01554"></a>01554     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01555"></a>01555   {
<a name="l01556"></a>01556     <span class="keywordflow">return</span> processor.start() &amp;&amp; applyDescendantPostorderNostart_(processor) &amp;&amp; processor.finish();
<a name="l01557"></a>01557   }
<a name="l01558"></a>01558 
<a name="l01559"></a>01559   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01560"></a><a class="code" href="classBALL_1_1Composite.html#ab8f86d227d582b2855186dc27ed23f22">01560</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#ab8f86d227d582b2855186dc27ed23f22">Composite::applyDescendantPostorderNostart_</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01561"></a>01561     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01562"></a>01562   {
<a name="l01563"></a>01563     <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result;
<a name="l01564"></a>01564 
<a name="l01565"></a>01565     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite = first_child_;
<a name="l01566"></a>01566          composite != 0; composite = composite-&gt;next_)
<a name="l01567"></a>01567     {
<a name="l01568"></a>01568       <span class="keywordflow">if</span> (composite-&gt;first_child_ != 0 &amp;&amp; 
<a name="l01569"></a>01569           composite-&gt;applyDescendantPostorderNostart_(processor) == <span class="keyword">false</span>)
<a name="l01570"></a>01570       {
<a name="l01571"></a>01571         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01572"></a>01572       }
<a name="l01573"></a>01573 
<a name="l01574"></a>01574       T* t_ptr = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(composite);
<a name="l01575"></a>01575       <span class="keywordflow">if</span> (t_ptr != 0)
<a name="l01576"></a>01576       {
<a name="l01577"></a>01577         result = processor(*t_ptr);
<a name="l01578"></a>01578 
<a name="l01579"></a>01579         <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01580"></a>01580         {
<a name="l01581"></a>01581           <span class="keywordflow">return</span> (result == <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01582"></a>01582         }
<a name="l01583"></a>01583       }
<a name="l01584"></a>01584     }
<a name="l01585"></a>01585 
<a name="l01586"></a>01586     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01587"></a>01587   }
<a name="l01588"></a>01588 
<a name="l01589"></a>01589   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;  
<a name="l01590"></a><a class="code" href="classBALL_1_1Composite.html#a47cd54e73e9f857969fa2e8cecc85df5">01590</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#a47cd54e73e9f857969fa2e8cecc85df5">Composite::applyPostorder</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01591"></a>01591     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01592"></a>01592   { 
<a name="l01593"></a>01593     <span class="keywordflow">if</span> (!processor.start() || !applyDescendantPostorderNostart_(processor))
<a name="l01594"></a>01594     {
<a name="l01595"></a>01595       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01596"></a>01596     }
<a name="l01597"></a>01597 
<a name="l01598"></a>01598     T* t_ptr = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l01599"></a>01599 
<a name="l01600"></a>01600     <span class="keywordflow">return</span> (t_ptr != 0                            &amp;&amp; 
<a name="l01601"></a>01601             processor(*t_ptr) &gt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a> &amp;&amp; 
<a name="l01602"></a>01602             processor.finish()                      );
<a name="l01603"></a>01603   }
<a name="l01604"></a>01604 
<a name="l01605"></a>01605   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01606"></a><a class="code" href="classBALL_1_1Composite.html#adf10f73825dcfcce0ac2fb6c6fc971be">01606</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#adf10f73825dcfcce0ac2fb6c6fc971be">Composite::applyLevel</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor, <span class="keywordtype">long</span> level)
<a name="l01607"></a>01607     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01608"></a>01608   {
<a name="l01609"></a>01609     <span class="keywordflow">return</span> processor.start() &amp;&amp; applyLevelNostart_(processor, level) &amp;&amp; processor.finish();
<a name="l01610"></a>01610   }
<a name="l01611"></a>01611 
<a name="l01612"></a>01612   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01613"></a><a class="code" href="classBALL_1_1Composite.html#a53c891b7269eabd78b7d9202223538a8">01613</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#a53c891b7269eabd78b7d9202223538a8">Composite::applyLevelNostart_</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor, <span class="keywordtype">long</span> level)
<a name="l01614"></a>01614     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01615"></a>01615   {
<a name="l01616"></a>01616     <span class="keywordflow">if</span> (level == 0)
<a name="l01617"></a>01617     {
<a name="l01618"></a>01618       T* t_ptr = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l01619"></a>01619       <span class="keywordflow">if</span> (t_ptr != 0)
<a name="l01620"></a>01620       {
<a name="l01621"></a>01621        <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result = processor(*t_ptr);
<a name="l01622"></a>01622 
<a name="l01623"></a>01623         <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01624"></a>01624         {
<a name="l01625"></a>01625           <span class="keywordflow">return</span> (result == <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01626"></a>01626         }
<a name="l01627"></a>01627       }
<a name="l01628"></a>01628     }
<a name="l01629"></a>01629     <span class="keywordflow">else</span> 
<a name="l01630"></a>01630     {
<a name="l01631"></a>01631       <span class="keywordflow">if</span> (--level == 0)
<a name="l01632"></a>01632       {
<a name="l01633"></a>01633         <span class="keywordflow">return</span> applyChildNostart_(processor);
<a name="l01634"></a>01634       }
<a name="l01635"></a>01635       <span class="keywordflow">else</span> 
<a name="l01636"></a>01636       {
<a name="l01637"></a>01637         <span class="keywordflow">if</span> (level &gt; 0)
<a name="l01638"></a>01638         {
<a name="l01639"></a>01639           <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite = first_child_;
<a name="l01640"></a>01640                composite != 0; composite = composite-&gt;next_)
<a name="l01641"></a>01641           {
<a name="l01642"></a>01642             <span class="keywordflow">if</span> (composite-&gt;first_child_ != 0 &amp;&amp; composite-&gt;applyLevelNostart_(processor, level) == <span class="keyword">false</span>)
<a name="l01643"></a>01643             {
<a name="l01644"></a>01644               <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01645"></a>01645             }
<a name="l01646"></a>01646           }
<a name="l01647"></a>01647         }
<a name="l01648"></a>01648       }
<a name="l01649"></a>01649     }
<a name="l01650"></a>01650     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01651"></a>01651   }
<a name="l01652"></a>01652 
<a name="l01653"></a>01653   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01654"></a><a class="code" href="classBALL_1_1Composite.html#ac495b4addb487875f3b22c291defc395">01654</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#ac495b4addb487875f3b22c291defc395">Composite::applyPreorderNostart_</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01655"></a>01655     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01656"></a>01656   {
<a name="l01657"></a>01657     <a class="code" href="classBALL_1_1Processor.html#afc8b424f41762b055b9b22f7e9c22e8a">Processor::Result</a> result;
<a name="l01658"></a>01658     <span class="keywordtype">bool</span> return_value;
<a name="l01659"></a>01659     T* t_ptr = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l01660"></a>01660     <span class="keywordflow">if</span> (t_ptr != 0)
<a name="l01661"></a>01661     {
<a name="l01662"></a>01662       result = processor(*t_ptr);
<a name="l01663"></a>01663   
<a name="l01664"></a>01664       <span class="keywordflow">if</span> (result &lt;= <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>)
<a name="l01665"></a>01665       {
<a name="l01666"></a>01666         return_value = (result == <a class="code" href="classBALL_1_1Processor.html#a10dcd84f0f80bc95719620cbf2266e37a719d298a893d4e375b4c495b2e90516f">Processor::BREAK</a>);
<a name="l01667"></a>01667       } 
<a name="l01668"></a>01668       <span class="keywordflow">else</span> 
<a name="l01669"></a>01669       {
<a name="l01670"></a>01670         return_value =  applyDescendantPreorderNostart_(processor);
<a name="l01671"></a>01671       }
<a name="l01672"></a>01672     } 
<a name="l01673"></a>01673     <span class="keywordflow">else</span> 
<a name="l01674"></a>01674     {
<a name="l01675"></a>01675       return_value =  applyDescendantPreorderNostart_(processor);
<a name="l01676"></a>01676     }
<a name="l01677"></a>01677     
<a name="l01678"></a>01678     <span class="keywordflow">return</span> return_value;
<a name="l01679"></a>01679   }
<a name="l01680"></a>01680 
<a name="l01681"></a>01681   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01682"></a><a class="code" href="classBALL_1_1Composite.html#aba7c8bb9b2e49aab35a40aa9d642859b">01682</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#aba7c8bb9b2e49aab35a40aa9d642859b">Composite::applyDescendant</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01683"></a>01683     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01684"></a>01684   {
<a name="l01685"></a>01685     <span class="keywordflow">return</span> applyDescendantPreorder(processor);
<a name="l01686"></a>01686   }
<a name="l01687"></a>01687 
<a name="l01688"></a>01688   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01689"></a><a class="code" href="classBALL_1_1Composite.html#a6e7cbe3c19906d0763d0c6d6732f156f">01689</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#a6e7cbe3c19906d0763d0c6d6732f156f">Composite::applyPreorder</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01690"></a>01690     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01691"></a>01691   {
<a name="l01692"></a>01692     <span class="keywordflow">return</span> processor.start() &amp;&amp; applyPreorderNostart_(processor) &amp;&amp; processor.finish();
<a name="l01693"></a>01693   }
<a name="l01694"></a>01694 
<a name="l01695"></a>01695   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01696"></a>01696   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01697"></a><a class="code" href="classBALL_1_1Composite.html#aec6b39b0f31898ae9b58a47ef8a1bb72">01697</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#aec6b39b0f31898ae9b58a47ef8a1bb72">Composite::apply</a>(<a class="code" href="classBALL_1_1UnaryProcessor.html">UnaryProcessor&lt;T&gt;</a>&amp; processor)
<a name="l01698"></a>01698     <span class="keywordflow">throw</span>(<a class="code" href="classBALL_1_1Exception_1_1GeneralException.html">Exception::GeneralException</a>)
<a name="l01699"></a>01699   {
<a name="l01700"></a>01700     <span class="keywordflow">return</span> applyPreorder(processor);
<a name="l01701"></a>01701   }
<a name="l01702"></a>01702 
<a name="l01703"></a>01703   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01704"></a>01704   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01705"></a><a class="code" href="classBALL_1_1Composite.html#abf70d1cb2409bd91e4010159eff9b011">01705</a>   T* <a class="code" href="classBALL_1_1Composite.html#abf70d1cb2409bd91e4010159eff9b011">Composite::getAncestor</a>(<span class="keyword">const</span> T&amp; <span class="comment">/* dummy */</span>)
<a name="l01706"></a>01706     
<a name="l01707"></a>01707   {
<a name="l01708"></a>01708     T* T_ptr = 0;
<a name="l01709"></a>01709     
<a name="l01710"></a>01710     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite_ptr = <a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>;
<a name="l01711"></a>01711          composite_ptr != 0; composite_ptr = composite_ptr-&gt;<a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>)
<a name="l01712"></a>01712     {
<a name="l01713"></a>01713       T_ptr = <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(composite_ptr);
<a name="l01714"></a>01714       <span class="keywordflow">if</span> (T_ptr != 0)
<a name="l01715"></a>01715       {
<a name="l01716"></a>01716         <span class="keywordflow">break</span>;
<a name="l01717"></a>01717       } 
<a name="l01718"></a>01718     }
<a name="l01719"></a>01719     
<a name="l01720"></a>01720     <span class="keywordflow">return</span> T_ptr;
<a name="l01721"></a>01721   }
<a name="l01722"></a>01722 
<a name="l01723"></a>01723   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01724"></a>01724   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01725"></a><a class="code" href="classBALL_1_1Composite.html#a4c41c78fa157db49736a83f927752ab9">01725</a>   <span class="keyword">const</span> T* <a class="code" href="classBALL_1_1Composite.html#abf70d1cb2409bd91e4010159eff9b011">Composite::getAncestor</a>(<span class="keyword">const</span> T&amp; <span class="comment">/* dummy */</span>)<span class="keyword"> const</span>
<a name="l01726"></a>01726 <span class="keyword">    </span>
<a name="l01727"></a>01727 <span class="keyword">  </span>{
<a name="l01728"></a>01728     T* t_ptr = 0;
<a name="l01729"></a>01729     <span class="keywordflow">for</span> (<a class="code" href="classBALL_1_1Composite.html">Composite</a>* composite_ptr = <a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>;
<a name="l01730"></a>01730          composite_ptr != 0; composite_ptr = composite_ptr-&gt;<a class="code" href="classBALL_1_1Composite.html#a417b07369d14577466e462c11f3f8ee7">parent_</a>)
<a name="l01731"></a>01731     {
<a name="l01732"></a>01732       <span class="keywordflow">if</span> ((t_ptr = dynamic_cast&lt;T*&gt;(composite_ptr)) != 0)
<a name="l01733"></a>01733       {
<a name="l01734"></a>01734         <span class="keywordflow">break</span>;
<a name="l01735"></a>01735       } 
<a name="l01736"></a>01736     }
<a name="l01737"></a>01737     
<a name="l01738"></a>01738     <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(t_ptr);
<a name="l01739"></a>01739   }
<a name="l01740"></a>01740 
<a name="l01741"></a>01741   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01742"></a>01742   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01743"></a><a class="code" href="classBALL_1_1Composite.html#adc0f19af7e05c2c8c8cc8d0418cfc5ab">01743</a>   T* <a class="code" href="classBALL_1_1Composite.html#adc0f19af7e05c2c8c8cc8d0418cfc5ab">Composite::getPrevious</a>(<span class="keyword">const</span> T&amp; <span class="comment">/* dummy */</span>)
<a name="l01744"></a>01744     
<a name="l01745"></a>01745   {
<a name="l01746"></a>01746     <span class="comment">// create an iterator bound to the root of the subtree</span>
<a name="l01747"></a>01747     <a class="code" href="classBALL_1_1BidirectionalIterator.html">CompositeIterator</a> it(<a class="code" href="classBALL_1_1Composite.html#a9cf365c52da0269d47aaac9a870d6605">getRoot</a>().<a class="code" href="classBALL_1_1Composite.html#aa47cccedce818e53a33acdce794ae99a">endComposite</a>());
<a name="l01748"></a>01748 
<a name="l01749"></a>01749     <span class="comment">// set its position to the current composite</span>
<a name="l01750"></a>01750     it.<a class="code" href="classBALL_1_1BaseIterator.html#a8e71548a378550e9433eceae45f27bd3" title="Get a constant reference to the traits of this iterator.">getTraits</a>().<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aea092dcecac673cb7bf24bc812b6aee5">setPosition</a>(<span class="keyword">this</span>);
<a name="l01751"></a>01751 
<a name="l01752"></a>01752     <span class="comment">// walk back until we find something  </span>
<a name="l01753"></a>01753     <span class="comment">// or we cannot walk any further</span>
<a name="l01754"></a>01754     <span class="keywordflow">if</span> (+it)
<a name="l01755"></a>01755     {
<a name="l01756"></a>01756       <span class="keywordflow">do</span> 
<a name="l01757"></a>01757       {
<a name="l01758"></a>01758         --it;
<a name="l01759"></a>01759       } 
<a name="l01760"></a>01760       <span class="keywordflow">while</span> (+it &amp;&amp; !RTTI::isKindOf&lt;T&gt;(*it));
<a name="l01761"></a>01761     }
<a name="l01762"></a>01762 
<a name="l01763"></a>01763     <span class="comment">// return a NULL pointer if nothing was found</span>
<a name="l01764"></a>01764     <a class="code" href="classBALL_1_1Composite.html">Composite</a>* ptr = 0;
<a name="l01765"></a>01765     <span class="keywordflow">if</span> (+it)
<a name="l01766"></a>01766     {
<a name="l01767"></a>01767       ptr = &amp;*it;
<a name="l01768"></a>01768     }
<a name="l01769"></a>01769     
<a name="l01770"></a>01770     <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(ptr);
<a name="l01771"></a>01771   }
<a name="l01772"></a>01772 
<a name="l01773"></a>01773   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01774"></a>01774   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01775"></a><a class="code" href="classBALL_1_1Composite.html#aad39964add1441ff9cc21e5f7b1f5dec">01775</a>   <span class="keyword">const</span> T* <a class="code" href="classBALL_1_1Composite.html#adc0f19af7e05c2c8c8cc8d0418cfc5ab">Composite::getPrevious</a>(<span class="keyword">const</span> T&amp; dummy)<span class="keyword"> const</span>
<a name="l01776"></a>01776 <span class="keyword">    </span>
<a name="l01777"></a>01777 <span class="keyword">  </span>{
<a name="l01778"></a>01778     <span class="comment">// cast away the constness of this and call the non-const method</span>
<a name="l01779"></a>01779     <a class="code" href="classBALL_1_1Composite.html">Composite</a>* nonconst_this = <span class="keyword">const_cast&lt;</span><a class="code" href="classBALL_1_1Composite.html">Composite</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l01780"></a>01780 
<a name="l01781"></a>01781     <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(nonconst_this-&gt;<a class="code" href="classBALL_1_1Composite.html#adc0f19af7e05c2c8c8cc8d0418cfc5ab">getPrevious</a>(dummy));
<a name="l01782"></a>01782   }
<a name="l01783"></a>01783 
<a name="l01784"></a>01784   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01785"></a>01785   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01786"></a><a class="code" href="classBALL_1_1Composite.html#aa95d192abfeb650b26cb86b190f1b034">01786</a>   T* <a class="code" href="classBALL_1_1Composite.html#aa95d192abfeb650b26cb86b190f1b034">Composite::getNext</a>(<span class="keyword">const</span> T&amp; <span class="comment">/* dummy */</span>)
<a name="l01787"></a>01787     
<a name="l01788"></a>01788   {
<a name="l01789"></a>01789     <span class="comment">// create an iterator bound to the root of the subtree</span>
<a name="l01790"></a>01790     <a class="code" href="classBALL_1_1BidirectionalIterator.html">CompositeIterator</a> it(<a class="code" href="classBALL_1_1Composite.html#a9cf365c52da0269d47aaac9a870d6605">getRoot</a>().<a class="code" href="classBALL_1_1Composite.html#afcf65149692564a6c2ee70e5c8bd3a7f">beginComposite</a>());
<a name="l01791"></a>01791 
<a name="l01792"></a>01792     <span class="comment">// set its position to the current composite</span>
<a name="l01793"></a>01793     it.<a class="code" href="classBALL_1_1BaseIterator.html#a8e71548a378550e9433eceae45f27bd3" title="Get a constant reference to the traits of this iterator.">getTraits</a>().<a class="code" href="classBALL_1_1Composite_1_1CompositeIteratorTraits.html#aea092dcecac673cb7bf24bc812b6aee5">setPosition</a>(<span class="keyword">this</span>);
<a name="l01794"></a>01794 
<a name="l01795"></a>01795     <span class="comment">// walk forward until we find something </span>
<a name="l01796"></a>01796     <span class="comment">// or we cannot walk any further</span>
<a name="l01797"></a>01797     <span class="keywordflow">do</span> 
<a name="l01798"></a>01798     {
<a name="l01799"></a>01799       it++;
<a name="l01800"></a>01800     } 
<a name="l01801"></a>01801     <span class="keywordflow">while</span> (it.<a class="code" href="classBALL_1_1BaseIterator.html#a64e41c02d7f797cbde0a766c52158707">isValid</a>() &amp;&amp; !RTTI::isKindOf&lt;T&gt;(*it));
<a name="l01802"></a>01802 
<a name="l01803"></a>01803 
<a name="l01804"></a>01804     <span class="comment">// return a NULL pointer if nothing was found</span>
<a name="l01805"></a>01805     <a class="code" href="classBALL_1_1Composite.html">Composite</a>* ptr = 0;
<a name="l01806"></a>01806     <span class="keywordflow">if</span> (+it)
<a name="l01807"></a>01807     {
<a name="l01808"></a>01808       ptr = &amp;*it;
<a name="l01809"></a>01809     }
<a name="l01810"></a>01810     
<a name="l01811"></a>01811     <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>T*<span class="keyword">&gt;</span>(ptr);
<a name="l01812"></a>01812   }
<a name="l01813"></a>01813 
<a name="l01814"></a>01814   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01815"></a>01815   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01816"></a><a class="code" href="classBALL_1_1Composite.html#aaf2aa7cdf482745989a76e8b73b81482">01816</a>   <span class="keyword">const</span> T* <a class="code" href="classBALL_1_1Composite.html#aa95d192abfeb650b26cb86b190f1b034">Composite::getNext</a>(<span class="keyword">const</span> T&amp; dummy)<span class="keyword"> const</span>
<a name="l01817"></a>01817 <span class="keyword">    </span>
<a name="l01818"></a>01818 <span class="keyword">  </span>{
<a name="l01819"></a>01819     <span class="comment">// cast away the constness of this and call the non-const method</span>
<a name="l01820"></a>01820     <a class="code" href="classBALL_1_1Composite.html">Composite</a>* nonconst_this = <span class="keyword">const_cast&lt;</span><a class="code" href="classBALL_1_1Composite.html">Composite</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l01821"></a>01821 
<a name="l01822"></a>01822     <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(nonconst_this-&gt;<a class="code" href="classBALL_1_1Composite.html#aa95d192abfeb650b26cb86b190f1b034">getNext</a>(dummy));
<a name="l01823"></a>01823   }
<a name="l01824"></a>01824 
<a name="l01825"></a>01825   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l01826"></a>01826   <a class="code" href="debug_8h.html#aac36dac5eb210529000645a87a85b79c">BALL_INLINE</a> 
<a name="l01827"></a><a class="code" href="classBALL_1_1Composite.html#af57e81d3ca9022a1da05ec59028c8e55">01827</a>   <span class="keywordtype">bool</span> <a class="code" href="classBALL_1_1Composite.html#af57e81d3ca9022a1da05ec59028c8e55">Composite::hasAncestor</a>(<span class="keyword">const</span> T&amp; dummy )<span class="keyword"> const </span>
<a name="l01828"></a>01828 <span class="keyword">    </span>
<a name="l01829"></a>01829 <span class="keyword">  </span>{
<a name="l01830"></a>01830     <span class="keywordflow">return</span> (<a class="code" href="classBALL_1_1Composite.html#abf70d1cb2409bd91e4010159eff9b011">getAncestor</a>(dummy) != 0); 
<a name="l01831"></a>01831   }
<a name="l01832"></a>01832 
<a name="l01833"></a>01833 <span class="preprocessor"># ifndef BALL_NO_INLINE_FUNCTIONS</span>
<a name="l01834"></a>01834 <span class="preprocessor"></span><span class="preprocessor">#   include &lt;BALL/CONCEPT/composite.iC&gt;</span>
<a name="l01835"></a>01835 <span class="preprocessor"># endif</span>
<a name="l01836"></a>01836 <span class="preprocessor"></span>
<a name="l01837"></a>01837 
<a name="l01838"></a>01838 } <span class="comment">// namespace BALL</span>
<a name="l01839"></a>01839 
<a name="l01840"></a>01840 <span class="preprocessor">#endif // BALL_CONCEPT_COMPOSITE_H</span>
</pre></div></div>
</div>
</body>
</html>
