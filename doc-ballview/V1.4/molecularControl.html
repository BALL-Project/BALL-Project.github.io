<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>BALLView Documentation: MolecularControl</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<div align=center>

<table width="700" border="0" cellpadding="0">
  <tr>
    <td align="center">
	
<h2 align="center">
<a href="scene.html"><img src="images/left.png" width="58" height="28" border=0 align="MIDDLE"></a>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.html">Index</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a href="geometricControl.html"><img src="images/right.png" width="58" height="28" border=0 align="MIDDLE"></a>
</h2><hr width=700>
		
      <H2>Structure Window</H2>
<div align=justify>
The structure window gives a hierarchical overview of the loaded molecules and provides means 
  to interact with the molecular entities.<br>  <br>
	<center>
  <img src="images/molecularControl2.png" width="331" height="341" border=0>
	</center>
  
  <br>  <br>
  Every molecule is part of a system, molecules from different systems do not interfere with each other, e.g. in
  MD-Simulations. BALLView creates a new System for every molecular file, the user loads.
</div>
  

  
<H2 align=center>Highlighting</H2>
<div align="justify">
By clicking with the left mouse button on the names of molecular entities, 
  users can highlight these. To highlight more then one item, use
  the Shift- or Control-modifier.
  A click with the right mouse button will open a context menu, which will operate on the highlighted molecular items:<br>
  <br>
	<center>
  <a name="mc_context_menu"><img src="images/mc_context_menu.png" width="490" height="342" border=0></a>
	</center>
  
	</div>
<a name="find_atom"></a>
<H2 align=center>Selections (or how to find an atom)</H2>
<div align="justify">Left of the names of the molecular entities are checkboxes, which show the user which molecular entities are 
  currently selected (picked). The selected objects become colored in the <a href="scene.html">3D view</a>.
  This can be used to find an atom in the three-dimensional structure of its molecule.
  If a user starts a molecular dynamics simulation or an energy minimization while some molecular entities are selected, 
  BALLView only operates on these items (which is e.g. useful for optimizing the position of only the hydrogen atoms
  of a protein from a PDB-file).
</div>
<p></p>
<a name="merge_systems"></a><H2 align=center>Cut, Copy, Paste</H2>
<div align="justify">The user can cut or copy any molecular entities in the Molecular Control and also paste them into other objects
  (see the Menu point "Edit"). This makes it possible e.g. to merge Systems:
<ol>
	<li>Load two molecular files (e.g. PDB files)</li>
	<li>Highlight the molecules of the first System (they should become blue like in the picture above)</li>
	<li>Click on the menu entry "Cut" in "Edit"</li>
	<li>Highlight the second System</li>
	<li>Click on the menu entry "Paste" in "Edit"</li>
	<li>The first System can now be deleted</li>
</ol>
</div>

<a name="regular_expressions"></a><H2 align=center>BALL expressions</H2>
<div align="justify">At the bottom of the Molecular Control resides a text field.
  In this text field, the user can enter expressions to select molecular entities.
  To apply the typed expression, either press the Return key or the "Select" button. 
	The "Clear" button clears the current selection.
	Possible predicates are:
    <br>
    <br>
</div>
<table border=1 cellpadding=8>
  <tbody>
    <tr><td><b> true() </b></td><td> always true </td></tr>
		<tr><td><b> false() </b></td><td> always false </td></tr>
    <tr><td><b> SMARTS(string) </b></td><td>use a <a href="http://www.daylight.com/dayhtml/doc/theory/theory.smarts.html">SMARTS</a> expression </td></tr>
    <tr><td><b> selected() </b> </td><td> true for already selected atoms </td></tr>
    <tr><td><b> name(string) </b></td><td> the name of an atom </td></tr>
    <tr><td><b> type(string) </b></td><td> type name of an atom </td></tr>
    <tr><td><b> element(char) </b></td><td> element (abbreviated by its symbol) </td></tr>
    <tr><td><b> residue(string) </b></td><td> name of a residue </td></tr>
    <tr><td><b> residueID(string) </b></td><td> PDB ID of the residue (usually a number) </td></tr>
    <tr><td><b> protein(string) </b></td><td> name of protein, the atom is contained in </td></tr>
    <tr><td><b> secondaryStruct(string) </b></td><td> name of the secondary structure, the atom is contained in </td></tr>
    <tr><td><b> chain(string) </b></td><td> name of the chain, the atom is contained in </td></tr>
    <tr><td><b> nucleotide(string) </b></td><td> name of the nucleotide the atom is contained in</td></tr>	
    <tr><td><b> solvent() </b></td><td> the atom is a solvent atom added by BALL </td></tr>
    <tr><td><b> backbone() </b></td><td> backbone atoms </td></tr>
    <tr><td><b> inRing() </b></td><td> part of a ring</td></tr>
    <tr><td><b> doubleBonds() </b></td><td> atoms with double bonds </td></tr>
    <tr><td><b> tripleBonds() </b></td><td> atoms with triple bonds </td></tr>
    <tr><td><b> numberOfBonds(int) </b></td><td> atoms with a given number of bonds </td></tr>	
    <tr><td><b> aromaticBonds() </b></td><td> atoms with aromatic bonds </td></tr>
    <tr><td><b> connectedTo(char) </b></td><td> atoms which are connected to an atom (see ConnectedTo Predicate in the BALL documentation)</td></tr>
    <tr><td><b> charge([op][number]) </b></td><td> select by charge, Possible operators are '&lt;'&nbsp; '&lt;='&nbsp; '='&nbsp; '&gt;='&nbsp; '&gt;'  </td></tr>
    <tr><td><b> spHybridized() </b></td><td>&nbsp;  </td></tr>
    <tr><td><b> sp2Hybridized() </b></td><td>&nbsp;  </td></tr>
    <tr><td><b> sp3Hybridized() </b></td><td>&nbsp;  </td></tr>		
    <tr><td><b> charge(float) </b></td><td> atoms with given charge </td></tr>
	<tr><td><b> isAxial() </b></td><td>&nbsp;  </td></tr>
    <tr><td><b> is4C1() </b></td><td>&nbsp;  </td></tr>
  </tbody>
</table>
<br>

<div align="justify">
All predicates can be connected with AND and OR, grouped with brackets, and each predicate can be negated with '!' <br>
<b>Example:</b>&nbsp;&nbsp; <i>!residueID(12) AND (element(N) OR element(C))</i>
<p></p>
</div>

<H2 align=center>Properties of Molecular Entities</H2>
<div align="justify">
To view and modify the properties of molecular entities, BALLView offers a special dialog, which can be opened 
  in the context menu of the structure window under the point "Properties".
  In this dialog the user can e.g. set the name of a chain or change the charge of atoms.
  (Another fast way to obtain the basic information for an atom, is to select (pick) exactly one atoms. 
  The information like charge and position are then shown in the <a href="logView.html">logs window</a>.) <br>  
	<center>
  <br>  <img src="images/atom_properties.png" border=0><br>  <br>
	</center>
  Another dialog enables the user to obtain all information of any bond. To open this dialog, one atom has to be highlighted and 
  the context menu entry "Show Bonds" has to be clicked. In this dialog, the user can read the bonds order and type. The "Select" buttons in the dialog enable the user to 
  identify the partner atoms in the bond.<a name="identify_bond"></a><br>  <br> 
	<center>
	<img src="images/bond_properties.png" border=0>
	</center>
</div>
  
<H2 align=center>Distances and angles between atoms<a name="measure_distance"></a></H2>
<div align="justify">When exactly two atoms are selected (picked) the distance between them is shown in the <a href="logView.html">logs window</a>
and the status bar.
	For three selected atoms, the angle between them is shown, and for four atoms the torsion angle.
  
</div>
<H2 align=center>Count atoms and bonds<a name="count_atoms"></a></H2>
<div align="justify">The context menu also has an entry to count the bonds and atoms of the currently selected molecular entity (e.g. a Residue).
  
</div>
<H2 align=center>Move molecular entities</h2><a name="move_molecule"></a>
<div align="justify">
  <p>To move parts of structures or individual atoms, the user can highlight them and switch to a special move mode with the context menu entry "Edit-&gt;Move". The mouse cursor changes to indicate the new mode. In this mode the mouse can be used to move and rotate all selected items. This works the same way as the normal rotation and translation of the viewpoint. To switch back to the rotation mode, the user can press either the Escape key or click on the menu entry &quot;Display-&gt;Rotate Mode&quot; .</p>
  </div>

<H2 align=center>Selection and Highlighting</h2><a name="selection_highlight"></a>
<div align="justify">
  <p>
The selection and the highlighting can be converted into each other through the context menu.
To select highlighted items use "Select", selected items can become highlighted by pressing
"Highlight Selection". This is e.g useful for creating a Representation for picked molecular items
or for finding a picked atom in the hierarchical overview in the structure window (the parent entries 
of the selected objects will be opened).
</div>
<hr width=700>
<h2 align="center">
<a href="scene.html"><img src="images/left.png" width="58" height="28" border=0 align="MIDDLE"></a>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.html">Index</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a href="geometricControl.html"><img src="images/right.png" width="58" height="28" border=0 align="MIDDLE"></a>
</h2>

  </td></tr></table>
</div>
  
</body>
</html>

